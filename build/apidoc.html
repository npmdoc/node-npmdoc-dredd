<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/apiaryio/dredd#readme"

    >dredd (v3.4.1)</a>
</h1>
<h4>HTTP API Testing Framework</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd">module dredd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command">
            function <span class="apidocSignatureSpan">dredd.</span>dredd_command
            <span class="apidocSignatureSpan">(options, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks">
            function <span class="apidocSignatureSpan">dredd.</span>hooks
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client">
            function <span class="apidocSignatureSpan">dredd.</span>hooks_worker_client
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner">
            function <span class="apidocSignatureSpan">dredd.</span>transaction_runner
            <span class="apidocSignatureSpan">(configuration1)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>blueprint_utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>child_process</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>config_utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>configuration</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>dredd_command.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>hooks.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>hooks_worker_client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>interactive_config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>transaction_runner.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.</span>which</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.blueprint_utils">module dredd.blueprint_utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.blueprint_utils.characterIndexToPosition">
            function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>characterIndexToPosition
            <span class="apidocSignatureSpan">(charIndex, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.blueprint_utils.rangesToLinesText">
            function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>rangesToLinesText
            <span class="apidocSignatureSpan">(ranges)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.blueprint_utils.sortNumbersAscending">
            function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>sortNumbersAscending
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.blueprint_utils.warningLocationToRanges">
            function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>warningLocationToRanges
            <span class="apidocSignatureSpan">(warningLocation, text)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.child_process">module dredd.child_process</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.child_process.signalKill">
            function <span class="apidocSignatureSpan">dredd.child_process.</span>signalKill
            <span class="apidocSignatureSpan">(childProcess, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.child_process.signalTerm">
            function <span class="apidocSignatureSpan">dredd.child_process.</span>signalTerm
            <span class="apidocSignatureSpan">(childProcess, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.child_process.spawn">
            function <span class="apidocSignatureSpan">dredd.child_process.</span>spawn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.child_process.terminate">
            function <span class="apidocSignatureSpan">dredd.child_process.</span>terminate
            <span class="apidocSignatureSpan">(childProcess, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.config_utils">module dredd.config_utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.config_utils.load">
            function <span class="apidocSignatureSpan">dredd.config_utils.</span>load
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.config_utils.parseCustom">
            function <span class="apidocSignatureSpan">dredd.config_utils.</span>parseCustom
            <span class="apidocSignatureSpan">(customArray)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.config_utils.save">
            function <span class="apidocSignatureSpan">dredd.config_utils.</span>save
            <span class="apidocSignatureSpan">(argsOrigin, path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.configuration">module dredd.configuration</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.configuration.applyConfiguration">
            function <span class="apidocSignatureSpan">dredd.configuration.</span>applyConfiguration
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.configuration.applyLoggingOptions">
            function <span class="apidocSignatureSpan">dredd.configuration.</span>applyLoggingOptions
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.dredd_command">module dredd.dredd_command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.dredd_command">
            function <span class="apidocSignatureSpan">dredd.</span>dredd_command
            <span class="apidocSignatureSpan">(options, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.dredd_command.prototype">module dredd.dredd_command.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.checkRequiredArgs">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>checkRequiredArgs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.commandSigInt">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>commandSigInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.exitWithStatus">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>exitWithStatus
            <span class="apidocSignatureSpan">(error, stats)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.initConfig">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>initConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.initDredd">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>initDredd
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.lastArgvIsApiEndpoint">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>lastArgvIsApiEndpoint
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.loadDreddFile">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>loadDreddFile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.logDebuggingInfo">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>logDebuggingInfo
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.moveBlueprintArgToPath">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>moveBlueprintArgToPath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.parseCustomConfig">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>parseCustomConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.run">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.runDredd">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runDredd
            <span class="apidocSignatureSpan">(dreddInstance)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.runExitingActions">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runExitingActions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.runServerAndThenDredd">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runServerAndThenDredd
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.setExitOrCallback">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>setExitOrCallback
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.setOptimistArgv">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>setOptimistArgv
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.stopServer">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>stopServer
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.dredd_command.prototype.takeRestOfParamsAsPath">
            function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>takeRestOfParamsAsPath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.hooks">module dredd.hooks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.hooks">
            function <span class="apidocSignatureSpan">dredd.</span>hooks
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.hooks.prototype">module dredd.hooks.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.addHook">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>addHook
            <span class="apidocSignatureSpan">(hooks, name, hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.after">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>after
            <span class="apidocSignatureSpan">(name, hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.afterAll">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>afterAll
            <span class="apidocSignatureSpan">(hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.afterEach">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>afterEach
            <span class="apidocSignatureSpan">(hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.before">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>before
            <span class="apidocSignatureSpan">(name, hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.beforeAll">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeAll
            <span class="apidocSignatureSpan">(hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.beforeEach">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeEach
            <span class="apidocSignatureSpan">(hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.beforeEachValidation">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeEachValidation
            <span class="apidocSignatureSpan">(hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.beforeValidation">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeValidation
            <span class="apidocSignatureSpan">(name, hook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.dumpHooksFunctionsToStrings">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>dumpHooksFunctionsToStrings
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks.prototype.log">
            function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.hooks_worker_client">module dredd.hooks_worker_client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.hooks_worker_client">
            function <span class="apidocSignatureSpan">dredd.</span>hooks_worker_client
            <span class="apidocSignatureSpan">(runner)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.hooks_worker_client.prototype">module dredd.hooks_worker_client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.connectToHandler">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>connectToHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.disconnectFromHandler">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>disconnectFromHandler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.registerHooks">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>registerHooks
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.setCommandAndCheckForExecutables">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>setCommandAndCheckForExecutables
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.spawnHandler">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>spawnHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.start">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>start
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.stop">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>stop
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.hooks_worker_client.prototype.terminateHandler">
            function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>terminateHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.interactive_config">module dredd.interactive_config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.interactive_config.processAnswers">
            function <span class="apidocSignatureSpan">dredd.interactive_config.</span>processAnswers
            <span class="apidocSignatureSpan">(config, answers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.interactive_config.prompt">
            function <span class="apidocSignatureSpan">dredd.interactive_config.</span>prompt
            <span class="apidocSignatureSpan">(config, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.interactive_config.run">
            function <span class="apidocSignatureSpan">dredd.interactive_config.</span>run
            <span class="apidocSignatureSpan">(config, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.interactive_config.updateCircle">
            function <span class="apidocSignatureSpan">dredd.interactive_config.</span>updateCircle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.interactive_config.updateTravis">
            function <span class="apidocSignatureSpan">dredd.interactive_config.</span>updateTravis
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.logger">module dredd.logger</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">dredd.logger.</span>emitErrs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">dredd.logger.</span>exitOnError</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">dredd.logger.</span>padLevels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">dredd.logger.</span>stripColors</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.actual">
            function <span class="apidocSignatureSpan">dredd.logger.</span>actual
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.complete">
            function <span class="apidocSignatureSpan">dredd.logger.</span>complete
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.debug">
            function <span class="apidocSignatureSpan">dredd.logger.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.error">
            function <span class="apidocSignatureSpan">dredd.logger.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.expected">
            function <span class="apidocSignatureSpan">dredd.logger.</span>expected
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.fail">
            function <span class="apidocSignatureSpan">dredd.logger.</span>fail
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.hook">
            function <span class="apidocSignatureSpan">dredd.logger.</span>hook
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.info">
            function <span class="apidocSignatureSpan">dredd.logger.</span>info
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.pass">
            function <span class="apidocSignatureSpan">dredd.logger.</span>pass
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.request">
            function <span class="apidocSignatureSpan">dredd.logger.</span>request
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.silly">
            function <span class="apidocSignatureSpan">dredd.logger.</span>silly
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.skip">
            function <span class="apidocSignatureSpan">dredd.logger.</span>skip
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.test">
            function <span class="apidocSignatureSpan">dredd.logger.</span>test
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.verbose">
            function <span class="apidocSignatureSpan">dredd.logger.</span>verbose
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.logger.warn">
            function <span class="apidocSignatureSpan">dredd.logger.</span>warn
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">dredd.logger.</span>_eventsCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>_names</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>domain</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>exceptionHandlers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>filters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>id</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>levels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>profilers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>rewriters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dredd.logger.</span>transports</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">dredd.logger.</span>level</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.transaction_runner">module dredd.transaction_runner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.transaction_runner">
            function <span class="apidocSignatureSpan">dredd.</span>transaction_runner
            <span class="apidocSignatureSpan">(configuration1)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.transaction_runner.prototype">module dredd.transaction_runner.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.config">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>config
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.configureTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>configureTransaction
            <span class="apidocSignatureSpan">(transaction, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.createTest">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>createTest
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.emitError">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitError
            <span class="apidocSignatureSpan">(error, test)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.emitHookError">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitHookError
            <span class="apidocSignatureSpan">(error, data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.emitResult">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitResult
            <span class="apidocSignatureSpan">(transaction, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.ensureTransactionResultsGeneralSection">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>ensureTransactionResultsGeneralSection
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.executeAllTransactions">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>executeAllTransactions
            <span class="apidocSignatureSpan">(transactions, hooks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.executeTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>executeTransaction
            <span class="apidocSignatureSpan">(transaction, hooks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.failTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>failTransaction
            <span class="apidocSignatureSpan">(transaction, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.getFullPath">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>getFullPath
            <span class="apidocSignatureSpan">(serverPath, requestPath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.getRequestOptionsFromTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>getRequestOptionsFromTransaction
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.isMultipart">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>isMultipart
            <span class="apidocSignatureSpan">(requestOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.parseServerUrl">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>parseServerUrl
            <span class="apidocSignatureSpan">(serverUrl)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.performRequest">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>performRequest
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.performRequestAndValidate">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>performRequestAndValidate
            <span class="apidocSignatureSpan">(test, transaction, hooks, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.replaceLineFeedInBody">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>replaceLineFeedInBody
            <span class="apidocSignatureSpan">(transaction, requestOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.run">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>run
            <span class="apidocSignatureSpan">(transactions, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.runHook">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runHook
            <span class="apidocSignatureSpan">(hook, data, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.runHooksForData">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runHooksForData
            <span class="apidocSignatureSpan">(hooks, data, legacy, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.runLegacyHook">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runLegacyHook
            <span class="apidocSignatureSpan">(hook, data, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.runSandboxedHookFromString">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runSandboxedHookFromString
            <span class="apidocSignatureSpan">(hookString, data, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.sandboxedHookResultsHandler">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>sandboxedHookResultsHandler
            <span class="apidocSignatureSpan">(err, data, results, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.sandboxedWrappedCode">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>sandboxedWrappedCode
            <span class="apidocSignatureSpan">(hookCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.setContentLength">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>setContentLength
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.skipTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>skipTransaction
            <span class="apidocSignatureSpan">(transaction, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.transaction_runner.prototype.validateTransaction">
            function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>validateTransaction
            <span class="apidocSignatureSpan">(test, transaction, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dredd.which">module dredd.which</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dredd.which.which">
            function <span class="apidocSignatureSpan">dredd.</span>which
            <span class="apidocSignatureSpan">(command)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd" id="apidoc.module.dredd">module dredd</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.dredd_command" id="apidoc.element.dredd.dredd_command">
        function <span class="apidocSignatureSpan">dredd.</span>dredd_command
        <span class="apidocSignatureSpan">(options, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DreddCommand(options, cb) {
  if (options == null) {
    options = {};
  }
  this.cb = cb;
  this.finished = false;
  this.exit = options.exit, this.custom = options.custom;
  this.setExitOrCallback();
  if (this.custom == null) {
    this.custom = {};
  }
  if (!this.custom.cwd || typeof this.custom.cwd !== &#x27;string&#x27;) {
    this.custom.cwd = process.cwd();
  }
  if (!this.custom.argv || !Array.isArray(this.custom.argv)) {
    this.custom.argv = [];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks" id="apidoc.element.dredd.hooks">
        function <span class="apidocSignatureSpan">dredd.</span>hooks
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Hooks(options) {
  if (options == null) {
    options = {};
  }
  this.dumpHooksFunctionsToStrings = bind(this.dumpHooksFunctionsToStrings, this);
  this.log = bind(this.log, this);
  this.afterEach = bind(this.afterEach, this);
  this.beforeEachValidation = bind(this.beforeEachValidation, this);
  this.beforeEach = bind(this.beforeEach, this);
  this.afterAll = bind(this.afterAll, this);
  this.beforeAll = bind(this.beforeAll, this);
  this.after = bind(this.after, this);
  this.beforeValidation = bind(this.beforeValidation, this);
  this.before = bind(this.before, this);
  this.logs = options.logs, this.logger = options.logger;
  this.transactions = {};
  this.beforeHooks = {};
  this.beforeValidationHooks = {};
  this.afterHooks = {};
  this.beforeAllHooks = [];
  this.afterAllHooks = [];
  this.beforeEachHooks = [];
  this.beforeEachValidationHooks = [];
  this.afterEachHooks = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client" id="apidoc.element.dredd.hooks_worker_client">
        function <span class="apidocSignatureSpan">dredd.</span>hooks_worker_client
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HooksWorkerClient(runner) {
  var options;
  this.runner = runner;
  options = this.runner.hooks.configuration.options;
  this.language = options.language;
  this.timeout = options[&#x27;hooks-worker-timeout&#x27;] || 5000;
  this.connectTimeout = options[&#x27;hooks-worker-connect-timeout&#x27;] || 1500;
  this.connectRetry = options[&#x27;hooks-worker-connect-retry&#x27;] || 500;
  this.afterConnectWait = options[&#x27;hooks-worker-after-connect-wait&#x27;] || 100;
  this.termTimeout = options[&#x27;hooks-worker-term-timeout&#x27;] || 5000;
  this.termRetry = options[&#x27;hooks-worker-term-retry&#x27;] || 500;
  this.handlerHost = options[&#x27;hooks-worker-handler-host&#x27;] || &#x27;127.0.0.1&#x27;;
  this.handlerPort = options[&#x27;hooks-worker-handler-port&#x27;] || 61321;
  this.handlerMessageDelimiter = &#x27;\n&#x27;;
  this.clientConnected = false;
  this.connectError = false;
  this.emitter = new EventEmitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner" id="apidoc.element.dredd.transaction_runner">
        function <span class="apidocSignatureSpan">dredd.</span>transaction_runner
        <span class="apidocSignatureSpan">(configuration1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TransactionRunner(configuration1) {
  this.configuration = configuration1;
  this.executeTransaction = bind(this.executeTransaction, this);
  this.configureTransaction = bind(this.configureTransaction, this);
  this.logs = [];
  this.hookStash = {};
  this.error = null;
  this.hookHandlerError = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.blueprint_utils" id="apidoc.module.dredd.blueprint_utils">module dredd.blueprint_utils</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.blueprint_utils.characterIndexToPosition" id="apidoc.element.dredd.blueprint_utils.characterIndexToPosition">
        function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>characterIndexToPosition
        <span class="apidocSignatureSpan">(charIndex, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">characterIndexToPosition = function (charIndex, code) {
  var codeFragment, ref, row;
  if (charIndex == null) {
    charIndex = 0;
  }
  if (code == null) {
    code = &#x27;&#x27;;
  }
  codeFragment = code.substring(0, charIndex);
  row = (((ref = codeFragment.match(NEWLINE_RE)) != null ? ref.length : void 0) || 0) + 1;
  return {
    row: row
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.blueprint_utils.rangesToLinesText" id="apidoc.element.dredd.blueprint_utils.rangesToLinesText">
        function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>rangesToLinesText
        <span class="apidocSignatureSpan">(ranges)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rangesToLinesText = function (ranges) {
  var i, len, pos, range, rangeIndex, ref;
  pos = &#x27;&#x27;;
  ref = ranges || [];
  for (rangeIndex = i = 0, len = ref.length; i &#x3c; len; rangeIndex = ++i) {
    range = ref[rangeIndex];
    if (rangeIndex &#x3e; 0) {
      pos += &#x27;, &#x27;;
    }
    if (range.start !== range.end) {
      pos += &#x22;lines &#x22; + range.start + &#x22;-&#x22; + range.end;
    } else {
      pos += &#x22;line &#x22; + range.start;
    }
  }
  return pos;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    error = true;
    log = logger.error;
  }
  if (annotation.component === &#x27;apiDescriptionParser&#x27;) {
    ranges = blueprintUtils.warningLocationToRanges(annotation.location, apiDescriptionDocument);
    message = &#x22;Parser &#x22; + annotation.type + &#x22; in file &#x27;&#x22; + filename + &#x22;&#x27;: (&#x22; + annotation
.type + &#x22; code &#x22; + annotation.code + &#x22;) &#x22; + annotation.message + &#x22; &#x22;;
    if (ranges != null ? ranges.length : void 0) {
      message += &#x22;on &#x22; + (blueprintUtils.<span class="apidocCodeKeywordSpan">rangesToLinesText</span>(ranges));
    }
    log(message);
  } else {
    transactionName = [annotation.origin.resourceGroupName, annotation.origin.resourceName, annotation.origin.actionName].join(&#
x27; &#x3e; &#x27;);
    log(&#x22;Compilation &#x22; + annotation.type + &#x22; in file &#x27;&#x22; + filename + &#x22;&#x27;: &#x22; + annotation.
message + &#x22; (&#x22; + transactionName + &#x22;) &#x22;);
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.blueprint_utils.sortNumbersAscending" id="apidoc.element.dredd.blueprint_utils.sortNumbersAscending">
        function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>sortNumbersAscending
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sortNumbersAscending = function (a, b) {
  return a - b;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.blueprint_utils.warningLocationToRanges" id="apidoc.element.dredd.blueprint_utils.warningLocationToRanges">
        function <span class="apidocSignatureSpan">dredd.blueprint_utils.</span>warningLocationToRanges
        <span class="apidocSignatureSpan">(warningLocation, text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warningLocationToRanges = function (warningLocation, text) {
  var i, j, lastLocation, len, len1, loc, locKey, position, range, ranges, rowIndex, rowsIndexes;
  if (warningLocation == null) {
    warningLocation = [];
  }
  if (text == null) {
    text = &#x27;&#x27;;
  }
  if (!warningLocation.length) {
    return [];
  }
  rowsIndexes = [];
  position = characterIndexToPosition(warningLocation[0][0], text);
  rowsIndexes.push(position.row);
  lastLocation = warningLocation[warningLocation.length - 1];
  if (warningLocation.length &#x3e; 0) {
    for (locKey = i = 0, len = warningLocation.length; i &#x3c; len; locKey = ++i) {
      loc = warningLocation[locKey];
      if (!(locKey &#x3e; 0)) {
        continue;
      }
      position = characterIndexToPosition(loc[0], text);
      rowsIndexes.push(position.row);
    }
  }
  rowsIndexes.sort(sortNumbersAscending);
  ranges = [];
  range = {
    start: rowsIndexes[0],
    end: rowsIndexes[0]
  };
  for (j = 0, len1 = rowsIndexes.length; j &#x3c; len1; j++) {
    rowIndex = rowsIndexes[j];
    if (rowIndex === range.end || rowIndex === range.end + 1) {
      range.end = rowIndex;
    } else {
      ranges.push(range);
      range = {
        start: rowIndex,
        end: rowIndex
      };
    }
  }
  ranges.push(range);
  return ranges;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (annotation.type === &#x27;warning&#x27;) {
  log = logger.warn;
} else {
  error = true;
  log = logger.error;
}
if (annotation.component === &#x27;apiDescriptionParser&#x27;) {
  ranges = blueprintUtils.<span class="apidocCodeKeywordSpan">warningLocationToRanges</span>(annotation.location, apiDescriptionDocument
);
  message = &#x22;Parser &#x22; + annotation.type + &#x22; in file &#x27;&#x22; + filename + &#x22;&#x27;: (&#x22; + annotation.
type + &#x22; code &#x22; + annotation.code + &#x22;) &#x22; + annotation.message + &#x22; &#x22;;
  if (ranges != null ? ranges.length : void 0) {
    message += &#x22;on &#x22; + (blueprintUtils.rangesToLinesText(ranges));
  }
  log(message);
} else {
  transactionName = [annotation.origin.resourceGroupName, annotation.origin.resourceName, annotation.origin.actionName].join(&#x27
; &#x3e; &#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.child_process" id="apidoc.module.dredd.child_process">module dredd.child_process</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.child_process.signalKill" id="apidoc.element.dredd.child_process.signalKill">
        function <span class="apidocSignatureSpan">dredd.child_process.</span>signalKill
        <span class="apidocSignatureSpan">(childProcess, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">signalKill = function (childProcess, callback) {
  var taskkill;
  childProcess.emit(&#x27;signalKill&#x27;);
  if (IS_WINDOWS) {
    taskkill = spawn(&#x27;taskkill&#x27;, [&#x27;/F&#x27;, &#x27;/T&#x27;, &#x27;/PID&#x27;, childProcess.pid]);
    return taskkill.on(&#x27;exit&#x27;, function(exitStatus) {
      var err;
      if (exitStatus) {
        err = new Error(&#x22;Unable to forcefully terminate process &#x22; + childProcess.pid);
        return callback(err);
      }
      return callback();
    });
  } else {
    childProcess.kill(&#x27;SIGKILL&#x27;);
    return process.nextTick(callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return function(exitStatus) {
    logger.verbose(&#x22;Exiting Dredd process with status &#x27;&#x22; + exitStatus + &#x22;&#x27;.&#x22;);
    logger.debug(&#x27;Using configured custom callback to terminate the Dredd process.&#x27;);
    _this.finished = true;
    if (_this.sigIntEventAdded) {
      if ((_this.serverProcess != null) &#x26;&#x26; !_this.serverProcess.terminated) {
        logger.verbose(&#x27;Killing backend server process before Dredd exits.&#x27;);
        _this.serverProcess.<span class="apidocCodeKeywordSpan">signalKill</span>();
      }
      process.removeEventListener(&#x27;SIGINT&#x27;, _this.commandSigInt);
    }
    _this.cb(exitStatus);
    return _this;
  };
})(this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.child_process.signalTerm" id="apidoc.element.dredd.child_process.signalTerm">
        function <span class="apidocSignatureSpan">dredd.child_process.</span>signalTerm
        <span class="apidocSignatureSpan">(childProcess, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">signalTerm = function (childProcess, callback) {
  childProcess.emit(&#x27;signalTerm&#x27;);
  if (IS_WINDOWS) {
    childProcess.stdin.write(String.fromCharCode(ASCII_CTRL_C));
  } else {
    childProcess.kill(&#x27;SIGTERM&#x27;);
  }
  return process.nextTick(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.child_process.spawn" id="apidoc.element.dredd.child_process.spawn">
        function <span class="apidocSignatureSpan">dredd.child_process.</span>spawn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spawn = function () {
  var args, childProcess, killedIntentionally, terminatedIntentionally;
  args = 1 &#x3c;= arguments.length ? slice.call(arguments, 0) : [];
  childProcess = crossSpawn.spawn.apply(null, args);
  childProcess.terminated = false;
  killedIntentionally = false;
  terminatedIntentionally = false;
  childProcess.on(&#x27;signalKill&#x27;, function() {
    return killedIntentionally = true;
  });
  childProcess.on(&#x27;signalTerm&#x27;, function() {
    return terminatedIntentionally = true;
  });
  childProcess.signalKill = function() {
    return signalKill(childProcess, function(err) {
      if (err) {
        return childProcess.emit(&#x27;error&#x27;, err);
      }
    });
  };
  childProcess.signalTerm = function() {
    return signalTerm(childProcess, function(err) {
      if (err) {
        return childProcess.emit(&#x27;error&#x27;, err);
      }
    });
  };
  childProcess.terminate = function(options) {
    return terminate(childProcess, options, function(err) {
      if (err) {
        return childProcess.emit(&#x27;error&#x27;, err);
      }
    });
  };
  childProcess.on(&#x27;exit&#x27;, function(exitStatus, signal) {
    childProcess.terminated = true;
    childProcess.killedIntentionally = killedIntentionally;
    childProcess.terminatedIntentionally = terminatedIntentionally;
    if (!killedIntentionally &#x26;&#x26; !terminatedIntentionally) {
      if (signal === &#x27;SIGKILL&#x27;) {
        return childProcess.emit(&#x27;crash&#x27;, null, true);
      } else if (exitStatus !== 0) {
        return childProcess.emit(&#x27;crash&#x27;, exitStatus, false);
      }
    }
  });
  return childProcess;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.child_process.terminate" id="apidoc.element.dredd.child_process.terminate">
        function <span class="apidocSignatureSpan">dredd.child_process.</span>terminate
        <span class="apidocSignatureSpan">(childProcess, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">terminate = function (childProcess, options, callback) {
  var check, force, onExit, ref, retryDelay, start, t, terminated, timeout;
  if (options == null) {
    options = {};
  }
  if (typeof options === &#x27;function&#x27;) {
    ref = [options, {}], callback = ref[0], options = ref[1];
  }
  force = options.force || false;
  timeout = options.timeout != null ? options.timeout : TERM_DEFAULT_TIMEOUT_MS;
  retryDelay = options.retryDelay != null ? options.retryDelay : TERM_DEFAULT_RETRY_MS;
  terminated = false;
  onExit = function() {
    terminated = true;
    return childProcess.removeListener(&#x27;exit&#x27;, onExit);
  };
  childProcess.on(&#x27;exit&#x27;, onExit);
  start = Date.now();
  t = void 0;
  check = function() {
    if (terminated) {
      clearTimeout(t);
      return callback();
    } else {
      if ((Date.now() - start) &#x3c; timeout) {
        return signalTerm(childProcess, function(err) {
          if (err) {
            return callback(err);
          }
          return t = setTimeout(check, retryDelay);
        });
      } else {
        clearTimeout(t);
        if (force) {
          return signalKill(childProcess, callback);
        } else {
          return callback(new Error(&#x22;Unable to gracefully terminate process &#x22; + childProcess.pid));
        }
      }
    }
  };
  return signalTerm(childProcess, function(err) {
    if (err) {
      return callback(err);
    }
    return t = setTimeout(check, TERM_FIRST_CHECK_TIMEOUT_MS);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return callback();
  }
  if (this.serverProcess.terminated) {
    logger.debug(&#x27;The backend server process has already terminated&#x27;);
    return callback();
  }
  logger.verbose(&#x27;Terminating backend server process, PID&#x27;, this.serverProcess.pid);
  this.serverProcess.<span class="apidocCodeKeywordSpan">terminate</span>({
    force: true
  });
  return this.serverProcess.on(&#x27;exit&#x27;, function() {
    return callback();
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.config_utils" id="apidoc.module.dredd.config_utils">module dredd.config_utils</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.config_utils.load" id="apidoc.element.dredd.config_utils.load">
        function <span class="apidocSignatureSpan">dredd.config_utils.</span>load
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (path) {
  var data, yamlData;
  if (path == null) {
    path = &#x27;./dredd.yml&#x27;;
  }
  yamlData = fs.readFileSync(path);
  data = yaml.safeLoad(yamlData);
  data[&#x27;_&#x27;] = [data[&#x27;blueprint&#x27;], data[&#x27;endpoint&#x27;]];
  delete data[&#x27;blueprint&#x27;];
  delete data[&#x27;endpoint&#x27;];
  return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DreddCommand.prototype.loadDreddFile = function() {
var configPath, key, ref, value;
configPath = this.argv.config;
logger.verbose(&#x27;Loading configuration file:&#x27;, configPath);
if (configPath &#x26;&#x26; fs.existsSync(configPath)) {
  logger.info(&#x22;Configuration &#x27;&#x22; + configPath + &#x22;&#x27; found, ignoring other arguments.&#x22;);
  this.argv = configUtils.<span class="apidocCodeKeywordSpan">load</span>(configPath);
}
ref = this.cliArgv;
for (key in ref) {
  value = ref[key];
  if (key !== &#x22;_&#x22; &#x26;&#x26; key !== &#x22;$0&#x22;) {
    this.argv[key] = value;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.config_utils.parseCustom" id="apidoc.element.dredd.config_utils.parseCustom">
        function <span class="apidocSignatureSpan">dredd.config_utils.</span>parseCustom
        <span class="apidocSignatureSpan">(customArray)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseCustom = function (customArray) {
  var i, len, output, splitted, string;
  output = {};
  if (Array.isArray(customArray)) {
    for (i = 0, len = customArray.length; i &#x3c; len; i++) {
      string = customArray[i];
      splitted = string.split(/:(.+)?/);
      output[splitted[0]] = splitted[1];
    }
  }
  return output;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      this.argv[key] = value;
    }
  }
  return this.argv = applyLoggingOptions(this.argv);
};

DreddCommand.prototype.parseCustomConfig = function() {
  return this.argv.custom = configUtils.<span class="apidocCodeKeywordSpan">parseCustom</span>(this.argv.custom);
};

DreddCommand.prototype.runServerAndThenDredd = function(callback) {
  var command, parsedArgs, waitMilis, waitSecs;
  if (this.argv[&#x27;server&#x27;] == null) {
    logger.verbose(&#x27;No backend server process specified, starting testing at once&#x27;);
    return this.runDredd(this.dreddInstance);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.config_utils.save" id="apidoc.element.dredd.config_utils.save">
        function <span class="apidocSignatureSpan">dredd.config_utils.</span>save
        <span class="apidocSignatureSpan">(argsOrigin, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function (argsOrigin, path) {
  var args, key, value, yamlArgs;
  if (path == null) {
    path = &#x27;./dredd.yml&#x27;;
  }
  args = clone(argsOrigin);
  args[&#x27;blueprint&#x27;] = args[&#x27;_&#x27;][0];
  args[&#x27;endpoint&#x27;] = args[&#x27;_&#x27;][1];
  for (key in args) {
    value = args[key];
    if (key.length === 1) {
      delete args[key];
    }
  }
  delete args[&#x27;$0&#x27;];
  delete args[&#x27;_&#x27;];
  yamlArgs = yaml.dump(args);
  return fs.writeFileSync(path, yamlArgs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DreddCommand.prototype.runExitingActions = function() {
if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
  logger.silly(&#x27;Starting interactive configuration.&#x27;);
  this.finished = true;
  return interactiveConfig.run(this.argv, (function(_this) {
    return function(config) {
      configUtils.<span class="apidocCodeKeywordSpan">save</span>(config);
      console.log(&#x22;&#x22;);
      console.log(&#x22;Configuration saved to dredd.yml&#x22;);
      console.log(&#x22;&#x22;);
      if (config[&#x27;language&#x27;] === &#x22;nodejs&#x22;) {
        console.log(&#x22;Run test now, with:&#x22;);
      } else {
        console.log(&#x22;Install hooks handler and run Dredd test with:&#x22;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.configuration" id="apidoc.module.dredd.configuration">module dredd.configuration</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.configuration.applyConfiguration" id="apidoc.element.dredd.configuration.applyConfiguration">
        function <span class="apidocSignatureSpan">dredd.configuration.</span>applyConfiguration
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">applyConfiguration = function (config) {
  var authHeader, configuration, customKey, customVal, key, method, ref, value;
  configuration = {
    blueprintPath: null,
    server: null,
    emitter: new EventEmitter,
    hooksCode: null,
    custom: {},
    options: {
      &#x27;dry-run&#x27;: false,
      silent: false,
      reporter: null,
      output: null,
      debug: false,
      header: null,
      user: null,
      &#x27;inline-errors&#x27;: false,
      details: false,
      method: [],
      only: [],
      color: true,
      level: &#x27;info&#x27;,
      timestamp: false,
      sorted: false,
      names: false,
      hookfiles: null,
      sandbox: false,
      language: &#x27;nodejs&#x27;,
      &#x27;hooks-worker-timeout&#x27;: 5000,
      &#x27;hooks-worker-connect-timeout&#x27;: 1500,
      &#x27;hooks-worker-connect-retry&#x27;: 500,
      &#x27;hooks-worker-after-connect-wait&#x27;: 100,
      &#x27;hooks-worker-term-timeout&#x27;: 5000,
      &#x27;hooks-worker-term-retry&#x27;: 500,
      &#x27;hooks-worker-handler-host&#x27;: &#x27;127.0.0.1&#x27;,
      &#x27;hooks-worker-handler-port&#x27;: 61321
    }
  };
  for (key in config) {
    if (!hasProp.call(config, key)) continue;
    value = config[key];
    if (key !== &#x27;custom&#x27;) {
      configuration[key] = value;
    } else {
      if (configuration[&#x27;custom&#x27;] == null) {
        configuration[&#x27;custom&#x27;] = {};
      }
      ref = config[&#x27;custom&#x27;] || {};
      for (customKey in ref) {
        if (!hasProp.call(ref, customKey)) continue;
        customVal = ref[customKey];
        configuration[&#x27;custom&#x27;][customKey] = clone(customVal, false);
      }
    }
  }
  configuration.options.reporter = coerceToArray(configuration.options.reporter);
  configuration.options.output = coerceToArray(configuration.options.output);
  configuration.options.header = coerceToArray(configuration.options.header);
  configuration.options.method = coerceToArray(configuration.options.method);
  configuration.options.only = coerceToArray(configuration.options.only);
  configuration.options.path = coerceToArray(configuration.options.path);
  if (config.blueprintPath) {
    configuration.options.path.push(config.blueprintPath);
  }
  configuration.options.method = (function() {
    var i, len, ref1, results;
    ref1 = configuration.options.method;
    results = [];
    for (i = 0, len = ref1.length; i &#x3c; len; i++) {
      method = ref1[i];
      results.push(method.toUpperCase());
    }
    return results;
  })();
  if (configuration.options.user != null) {
    authHeader = &#x27;Authorization:Basic &#x27; + new Buffer(configuration.options.user).toString(&#x27;base64&#x27;);
    configuration.options.header.push(authHeader);
  }
  configuration.options = applyLoggingOptions(configuration.options);
  return configuration;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.configuration.applyLoggingOptions" id="apidoc.element.dredd.configuration.applyLoggingOptions">
        function <span class="apidocSignatureSpan">dredd.configuration.</span>applyLoggingOptions
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">applyLoggingOptions = function (options) {
  if (options.color === &#x27;false&#x27;) {
    options.color = false;
  } else if (options.color === &#x27;true&#x27;) {
    options.color = true;
  }
  logger.transports.console.colorize = options.color;
  logger.transports.console.silent = options.silent;
  logger.transports.console.timestamp = options.timestamp;
  logger.transports.console.level = options.level;
  return options;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.dredd_command" id="apidoc.module.dredd.dredd_command">module dredd.dredd_command</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.dredd_command.dredd_command" id="apidoc.element.dredd.dredd_command.dredd_command">
        function <span class="apidocSignatureSpan">dredd.</span>dredd_command
        <span class="apidocSignatureSpan">(options, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DreddCommand(options, cb) {
  if (options == null) {
    options = {};
  }
  this.cb = cb;
  this.finished = false;
  this.exit = options.exit, this.custom = options.custom;
  this.setExitOrCallback();
  if (this.custom == null) {
    this.custom = {};
  }
  if (!this.custom.cwd || typeof this.custom.cwd !== &#x27;string&#x27;) {
    this.custom.cwd = process.cwd();
  }
  if (!this.custom.argv || !Array.isArray(this.custom.argv)) {
    this.custom.argv = [];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.dredd_command.prototype" id="apidoc.module.dredd.dredd_command.prototype">module dredd.dredd_command.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.checkRequiredArgs" id="apidoc.element.dredd.dredd_command.prototype.checkRequiredArgs">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>checkRequiredArgs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkRequiredArgs = function () {
  var argError;
  argError = false;
  if (this.argv._[0] == null) {
    console.error(&#x22;\nError: Must specify path to API description document.&#x22;);
    argError = true;
  }
  if (this.argv._[1] == null) {
    console.error(&#x22;\nError: Must specify URL of the tested API instance.&#x22;);
    argError = true;
  }
  if (argError) {
    console.error(&#x22;\n&#x22;);
    this.optimist.showHelp(console.error);
    return this._processExit(1);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.commandSigInt" id="apidoc.element.dredd.dredd_command.prototype.commandSigInt">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>commandSigInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">commandSigInt = function () {
  logger.error(&#x27;\nShutting down from keyboard interruption (Ctrl+C)&#x27;);
  return this.dreddInstance.transactionsComplete((function(_this) {
    return function() {
      return _this._processExit(0);
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.exitWithStatus" id="apidoc.element.dredd.dredd_command.prototype.exitWithStatus">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>exitWithStatus
        <span class="apidocSignatureSpan">(error, stats)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exitWithStatus = function (error, stats) {
  if (error) {
    if (error.message) {
      logger.error(error.message);
    }
    return this._processExit(1);
  }
  if ((stats.failures + stats.errors) &#x3e; 0) {
    this._processExit(1);
  } else {
    this._processExit(0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.sigIntEventAdded = !(this.sigIntEventAdd = false);
    process.on(&#x27;SIGINT&#x27;, this.commandSigInt);
  }
  logger.verbose(&#x27;Running Dredd instance.&#x27;);
  dreddInstance.run((function(_this) {
    return function(error, stats) {
      logger.verbose(&#x27;Dredd instance run finished.&#x27;);
      return _this.<span class="apidocCodeKeywordSpan">exitWithStatus</span>(error, stats);
    };
  })(this));
  return this;
};

DreddCommand.prototype.exitWithStatus = function(error, stats) {
  if (error) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.initConfig" id="apidoc.element.dredd.dredd_command.prototype.initConfig">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>initConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initConfig = function () {
  var base, configuration;
  this.lastArgvIsApiEndpoint().takeRestOfParamsAsPath();
  configuration = {
    &#x27;server&#x27;: this.server,
    &#x27;options&#x27;: this.argv
  };
  if ((base = configuration.options).path == null) {
    base.path = [];
  }
  configuration.options.path.push(this.argv._[0]);
  configuration.custom = this.custom;
  return configuration;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
for (i = 0, len = ref.length; i &#x3c; len; i++) {
  task = ref[i];
  task.call(this);
  if (this.finished) {
    return;
  }
}
configurationForDredd = this.<span class="apidocCodeKeywordSpan">initConfig</span>();
this.logDebuggingInfo(configurationForDredd);
this.dreddInstance = this.initDredd(configurationForDredd);
try {
  this.runServerAndThenDredd();
} catch (error1) {
  e = error1;
  logger.error(e.message, e.stack);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.initDredd" id="apidoc.element.dredd.dredd_command.prototype.initDredd">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>initDredd
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initDredd = function (configuration) {
  return new Dredd(configuration);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  task.call(this);
  if (this.finished) {
    return;
  }
}
configurationForDredd = this.initConfig();
this.logDebuggingInfo(configurationForDredd);
this.dreddInstance = this.<span class="apidocCodeKeywordSpan">initDredd</span>(configurationForDredd);
try {
  this.runServerAndThenDredd();
} catch (error1) {
  e = error1;
  logger.error(e.message, e.stack);
  this.stopServer((function(_this) {
    return function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.lastArgvIsApiEndpoint" id="apidoc.element.dredd.dredd_command.prototype.lastArgvIsApiEndpoint">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>lastArgvIsApiEndpoint
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastArgvIsApiEndpoint = function () {
  this.server = this.argv._[this.argv._.length - 1];
  this.argv._.splice(this.argv._.length - 1, 1);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
DreddCommand.prototype.takeRestOfParamsAsPath = function() {
  this.argv[&#x27;p&#x27;] = this.argv[&#x27;path&#x27;] = this.argv[&#x27;path&#x27;].concat(this.argv._);
  return this;
};

DreddCommand.prototype.initConfig = function() {
  var base, configuration;
  this.<span class="apidocCodeKeywordSpan">lastArgvIsApiEndpoint</span>().takeRestOfParamsAsPath();
  configuration = {
    &#x27;server&#x27;: this.server,
    &#x27;options&#x27;: this.argv
  };
  if ((base = configuration.options).path == null) {
    base.path = [];
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.loadDreddFile" id="apidoc.element.dredd.dredd_command.prototype.loadDreddFile">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>loadDreddFile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadDreddFile = function () {
  var configPath, key, ref, value;
  configPath = this.argv.config;
  logger.verbose(&#x27;Loading configuration file:&#x27;, configPath);
  if (configPath &#x26;&#x26; fs.existsSync(configPath)) {
    logger.info(&#x22;Configuration &#x27;&#x22; + configPath + &#x22;&#x27; found, ignoring other arguments.&#x22;);
    this.argv = configUtils.load(configPath);
  }
  ref = this.cliArgv;
  for (key in ref) {
    value = ref[key];
    if (key !== &#x22;_&#x22; &#x26;&#x26; key !== &#x22;$0&#x22;) {
      this.argv[key] = value;
    }
  }
  return this.argv = applyLoggingOptions(this.argv);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.logDebuggingInfo" id="apidoc.element.dredd.dredd_command.prototype.logDebuggingInfo">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>logDebuggingInfo
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logDebuggingInfo = function (config) {
  var err, npmVersion;
  logger.debug(&#x27;Dredd version:&#x27;, packageData.version);
  logger.debug(&#x27;Node.js version:&#x27;, process.version);
  logger.debug(&#x27;Node.js environment:&#x27;, process.versions);
  logger.debug(&#x27;System version:&#x27;, os.type(), os.release(), os.arch());
  try {
    npmVersion = spawnSync(&#x27;npm&#x27;, [&#x27;--version&#x27;]).stdout.toString().trim();
    logger.debug(&#x27;npm version:&#x27;, npmVersion || &#x27;unable to determine npm version&#x27;);
  } catch (error1) {
    err = error1;
    logger.debug(&#x27;npm version: unable to determine npm version:&#x27;, err);
  }
  return logger.debug(&#x27;Configuration:&#x27;, JSON.stringify(config));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  task = ref[i];
  task.call(this);
  if (this.finished) {
    return;
  }
}
configurationForDredd = this.initConfig();
this.<span class="apidocCodeKeywordSpan">logDebuggingInfo</span>(configurationForDredd);
this.dreddInstance = this.initDredd(configurationForDredd);
try {
  this.runServerAndThenDredd();
} catch (error1) {
  e = error1;
  logger.error(e.message, e.stack);
  this.stopServer((function(_this) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.moveBlueprintArgToPath" id="apidoc.element.dredd.dredd_command.prototype.moveBlueprintArgToPath">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>moveBlueprintArgToPath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">moveBlueprintArgToPath = function () {
  if (!Array.isArray(this.argv[&#x27;path&#x27;])) {
    return this.argv[&#x27;path&#x27;] = this.argv[&#x27;p&#x27;] = [this.argv[&#x27;path&#x27;]];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.parseCustomConfig" id="apidoc.element.dredd.dredd_command.prototype.parseCustomConfig">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>parseCustomConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseCustomConfig = function () {
  return this.argv.custom = configUtils.parseCustom(this.argv.custom);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.run" id="apidoc.element.dredd.dredd_command.prototype.run">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function () {
  var configurationForDredd, e, i, len, ref, task;
  ref = [this.setOptimistArgv, this.parseCustomConfig, this.runExitingActions, this.loadDreddFile, this.checkRequiredArgs, this.
moveBlueprintArgToPath];
  for (i = 0, len = ref.length; i &#x3c; len; i++) {
    task = ref[i];
    task.call(this);
    if (this.finished) {
      return;
    }
  }
  configurationForDredd = this.initConfig();
  this.logDebuggingInfo(configurationForDredd);
  this.dreddInstance = this.initDredd(configurationForDredd);
  try {
    this.runServerAndThenDredd();
  } catch (error1) {
    e = error1;
    logger.error(e.message, e.stack);
    this.stopServer((function(_this) {
      return function() {
        return _this._processExit(2);
      };
    })(this));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

DreddCommand.prototype.runExitingActions = function() {
  if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
    logger.silly(&#x27;Starting interactive configuration.&#x27;);
    this.finished = true;
    return interactiveConfig.<span class="apidocCodeKeywordSpan">run</span>(this.argv, (function(_this) {
      return function(config) {
        configUtils.save(config);
        console.log(&#x22;&#x22;);
        console.log(&#x22;Configuration saved to dredd.yml&#x22;);
        console.log(&#x22;&#x22;);
        if (config[&#x27;language&#x27;] === &#x22;nodejs&#x22;) {
          console.log(&#x22;Run test now, with:&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.runDredd" id="apidoc.element.dredd.dredd_command.prototype.runDredd">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runDredd
        <span class="apidocSignatureSpan">(dreddInstance)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runDredd = function (dreddInstance) {
  if (this.sigIntEventAdd) {
    this.sigIntEventAdded = !(this.sigIntEventAdd = false);
    process.on(&#x27;SIGINT&#x27;, this.commandSigInt);
  }
  logger.verbose(&#x27;Running Dredd instance.&#x27;);
  dreddInstance.run((function(_this) {
    return function(error, stats) {
      logger.verbose(&#x27;Dredd instance run finished.&#x27;);
      return _this.exitWithStatus(error, stats);
    };
  })(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this.argv.custom = configUtils.parseCustom(this.argv.custom);
};

DreddCommand.prototype.runServerAndThenDredd = function(callback) {
  var command, parsedArgs, waitMilis, waitSecs;
  if (this.argv[&#x27;server&#x27;] == null) {
    logger.verbose(&#x27;No backend server process specified, starting testing at once&#x27;);
    return this.<span class="apidocCodeKeywordSpan">runDredd</span>(this.dreddInstance);
  } else {
    logger.verbose(&#x27;Backend server process specified, starting backend server and then testing&#x27;);
    parsedArgs = spawnArgs(this.argv[&#x27;server&#x27;]);
    command = parsedArgs.shift();
    logger.verbose(&#x22;Using &#x27;&#x22; + command + &#x22;&#x27; as a server command, &#x22; + (JSON.stringify(parsedArgs)) + &#
x22; as arguments&#x22;);
    this.serverProcess = spawn(command, parsedArgs);
    logger.info(&#x22;Starting backend server process with command: &#x22; + this.argv[&#x27;server&#x27;]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.runExitingActions" id="apidoc.element.dredd.dredd_command.prototype.runExitingActions">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runExitingActions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runExitingActions = function () {
  if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
    logger.silly(&#x27;Starting interactive configuration.&#x27;);
    this.finished = true;
    return interactiveConfig.run(this.argv, (function(_this) {
      return function(config) {
        configUtils.save(config);
        console.log(&#x22;&#x22;);
        console.log(&#x22;Configuration saved to dredd.yml&#x22;);
        console.log(&#x22;&#x22;);
        if (config[&#x27;language&#x27;] === &#x22;nodejs&#x22;) {
          console.log(&#x22;Run test now, with:&#x22;);
        } else {
          console.log(&#x22;Install hooks handler and run Dredd test with:&#x22;);
        }
        console.log(&#x22;&#x22;);
        if (config[&#x27;language&#x27;] === &#x27;ruby&#x27;) {
          console.log(&#x22;  $ gem install dredd_hooks&#x22;);
        } else if (config[&#x27;language&#x27;] === &#x27;python&#x27;) {
          console.log(&#x22;  $ pip install dredd_hooks&#x22;);
        } else if (config[&#x27;language&#x27;] === &#x27;php&#x27;) {
          console.log(&#x22;  $ composer require ddelnano/dredd-hooks-php --dev&#x22;);
        } else if (config[&#x27;language&#x27;] === &#x27;perl&#x27;) {
          console.log(&#x22;  $ cpanm Dredd::Hooks&#x22;);
        } else if (config[&#x27;language&#x27;] === &#x27;go&#x27;) {
          console.log(&#x22;  $ go get github.com/snikch/goodman/cmd/goodman&#x22;);
        }
        console.log(&#x22;  $ dredd&#x22;);
        console.log(&#x22;&#x22;);
        return _this._processExit(0);
      };
    })(this));
  } else if (this.argv.help === true) {
    logger.silly(&#x27;Printing help.&#x27;);
    this.optimist.showHelp(console.error);
    return this._processExit(0);
  } else if (this.argv.version === true) {
    logger.silly(&#x27;Printing version.&#x27;);
    console.log(packageData.name + &#x22; v&#x22; + packageData.version + &#x22; (&#x22; + (os.type()) + &#x22; &#x22; + (os.release()) + &#x22;; &#x22; + (os.arch()) + &#x22;)&#x22;);
    return this._processExit(0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.runServerAndThenDredd" id="apidoc.element.dredd.dredd_command.prototype.runServerAndThenDredd">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>runServerAndThenDredd
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runServerAndThenDredd = function (callback) {
  var command, parsedArgs, waitMilis, waitSecs;
  if (this.argv[&#x27;server&#x27;] == null) {
    logger.verbose(&#x27;No backend server process specified, starting testing at once&#x27;);
    return this.runDredd(this.dreddInstance);
  } else {
    logger.verbose(&#x27;Backend server process specified, starting backend server and then testing&#x27;);
    parsedArgs = spawnArgs(this.argv[&#x27;server&#x27;]);
    command = parsedArgs.shift();
    logger.verbose(&#x22;Using &#x27;&#x22; + command + &#x22;&#x27; as a server command, &#x22; + (JSON.stringify(parsedArgs)) + &#x22; as arguments&#x22;);
    this.serverProcess = spawn(command, parsedArgs);
    logger.info(&#x22;Starting backend server process with command: &#x22; + this.argv[&#x27;server&#x27;]);
    this.serverProcess.stdout.setEncoding(&#x27;utf8&#x27;);
    this.serverProcess.stdout.on(&#x27;data&#x27;, function(data) {
      return process.stdout.write(data.toString());
    });
    this.serverProcess.stderr.setEncoding(&#x27;utf8&#x27;);
    this.serverProcess.stderr.on(&#x27;data&#x27;, function(data) {
      return process.stdout.write(data.toString());
    });
    this.serverProcess.on(&#x27;signalTerm&#x27;, function() {
      return logger.verbose(&#x27;Gracefully terminating the backend server process&#x27;);
    });
    this.serverProcess.on(&#x27;signalKill&#x27;, function() {
      return logger.verbose(&#x27;Killing the backend server process&#x27;);
    });
    this.serverProcess.on(&#x27;crash&#x27;, (function(_this) {
      return function(exitStatus, killed) {
        if (killed) {
          return logger.info(&#x27;Backend server process was killed&#x27;);
        }
      };
    })(this));
    this.serverProcess.on(&#x27;exit&#x27;, (function(_this) {
      return function() {
        return logger.info(&#x27;Backend server process exited&#x27;);
      };
    })(this));
    this.serverProcess.on(&#x27;error&#x27;, (function(_this) {
      return function(error) {
        logger.error(&#x27;Command to start backend server process failed, exiting Dredd&#x27;, error);
        return _this._processExit(2);
      };
    })(this));
    process.on(&#x27;beforeExit&#x27;, (function(_this) {
      return function() {
        if ((_this.serverProcess != null) &#x26;&#x26; !_this.serverProcess.terminated) {
          logger.verbose(&#x27;Killing backend server process before Dredd exits&#x27;);
          return _this.serverProcess.signalKill();
        }
      };
    })(this));
    process.on(&#x27;exit&#x27;, (function(_this) {
      return function() {
        if ((_this.serverProcess != null) &#x26;&#x26; !_this.serverProcess.terminated) {
          logger.verbose(&#x27;Killing backend server process on Dredd\&#x27;s exit&#x27;);
          return _this.serverProcess.signalKill();
        }
      };
    })(this));
    waitSecs = parseInt(this.argv[&#x27;server-wait&#x27;], 10);
    waitMilis = waitSecs * 1000;
    logger.info(&#x22;Waiting &#x22; + waitSecs + &#x22; seconds for backend server process to start&#x22;);
    return this.wait = setTimeout((function(_this) {
      return function() {
        return _this.runDredd(_this.dreddInstance);
      };
    })(this), waitMilis);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return;
  }
}
configurationForDredd = this.initConfig();
this.logDebuggingInfo(configurationForDredd);
this.dreddInstance = this.initDredd(configurationForDredd);
try {
  this.<span class="apidocCodeKeywordSpan">runServerAndThenDredd</span>();
} catch (error1) {
  e = error1;
  logger.error(e.message, e.stack);
  this.stopServer((function(_this) {
    return function() {
      return _this._processExit(2);
    };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.setExitOrCallback" id="apidoc.element.dredd.dredd_command.prototype.setExitOrCallback">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>setExitOrCallback
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setExitOrCallback = function () {
  if (!this.cb) {
    if (this.exit &#x26;&#x26; (this.exit === process.exit)) {
      this.sigIntEventAdd = true;
    }
    if (this.exit) {
      return this._processExit = (function(_this) {
        return function(exitStatus) {
          logger.verbose(&#x22;Exiting Dredd process with status &#x27;&#x22; + exitStatus + &#x22;&#x27;.&#x22;);
          logger.debug(&#x27;Using configured custom exit() method to terminate the Dredd process.&#x27;);
          _this.finished = true;
          return _this.stopServer(function() {
            return _this.exit(exitStatus);
          });
        };
      })(this);
    } else {
      return this._processExit = (function(_this) {
        return function(exitStatus) {
          logger.verbose(&#x22;Exiting Dredd process with status &#x27;&#x22; + exitStatus + &#x22;&#x27;.&#x22;);
          logger.debug(&#x27;Using native process.exit() method to terminate the Dredd process.&#x27;);
          return _this.stopServer(function() {
            return process.exit(exitStatus);
          });
        };
      })(this);
    }
  } else {
    return this._processExit = (function(_this) {
      return function(exitStatus) {
        logger.verbose(&#x22;Exiting Dredd process with status &#x27;&#x22; + exitStatus + &#x22;&#x27;.&#x22;);
        logger.debug(&#x27;Using configured custom callback to terminate the Dredd process.&#x27;);
        _this.finished = true;
        if (_this.sigIntEventAdded) {
          if ((_this.serverProcess != null) &#x26;&#x26; !_this.serverProcess.terminated) {
            logger.verbose(&#x27;Killing backend server process before Dredd exits.&#x27;);
            _this.serverProcess.signalKill();
          }
          process.removeEventListener(&#x27;SIGINT&#x27;, _this.commandSigInt);
        }
        _this.cb(exitStatus);
        return _this;
      };
    })(this);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  function DreddCommand(options, cb) {
if (options == null) {
  options = {};
}
this.cb = cb;
this.finished = false;
this.exit = options.exit, this.custom = options.custom;
this.<span class="apidocCodeKeywordSpan">setExitOrCallback</span>();
if (this.custom == null) {
  this.custom = {};
}
if (!this.custom.cwd || typeof this.custom.cwd !== &#x27;string&#x27;) {
  this.custom.cwd = process.cwd();
}
if (!this.custom.argv || !Array.isArray(this.custom.argv)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.setOptimistArgv" id="apidoc.element.dredd.dredd_command.prototype.setOptimistArgv">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>setOptimistArgv
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOptimistArgv = function () {
  this.optimist = optimist(this.custom.argv, this.custom.cwd);
  this.cliArgv = this.optimist.argv;
  this.optimist.usage(&#x27;Usage:\n  $ dredd init\n\nOr:\n  $ dredd &#x3c;path or URL to API description document&#x3e; &#x3c;URL of tested server&#x3e; [
OPTIONS]\n\nExample:\n  $ dredd ./api-description.apib http://127.0.0.1:3000 --dry-run&#x27;).options(Dredd.options).wrap(80);
  this.argv = this.optimist.argv;
  return this.argv = applyLoggingOptions(this.argv);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.stopServer" id="apidoc.element.dredd.dredd_command.prototype.stopServer">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>stopServer
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stopServer = function (callback) {
  if (this.serverProcess == null) {
    logger.verbose(&#x27;No backend server process to terminate.&#x27;);
    return callback();
  }
  if (this.serverProcess.terminated) {
    logger.debug(&#x27;The backend server process has already terminated&#x27;);
    return callback();
  }
  logger.verbose(&#x27;Terminating backend server process, PID&#x27;, this.serverProcess.pid);
  this.serverProcess.terminate({
    force: true
  });
  return this.serverProcess.on(&#x27;exit&#x27;, function() {
    return callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (this.exit) {
  return this._processExit = (function(_this) {
    return function(exitStatus) {
      logger.verbose(&#x22;Exiting Dredd process with status &#x27;&#x22; + exitStatus + &#x22;&#x27;.&#x22;);
      logger.debug(&#x27;Using configured custom exit() method to terminate the Dredd process.&#x27;);
      _this.finished = true;
      return _this.<span class="apidocCodeKeywordSpan">stopServer</span>(function() {
        return _this.exit(exitStatus);
      });
    };
  })(this);
} else {
  return this._processExit = (function(_this) {
    return function(exitStatus) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.dredd_command.prototype.takeRestOfParamsAsPath" id="apidoc.element.dredd.dredd_command.prototype.takeRestOfParamsAsPath">
        function <span class="apidocSignatureSpan">dredd.dredd_command.prototype.</span>takeRestOfParamsAsPath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">takeRestOfParamsAsPath = function () {
  this.argv[&#x27;p&#x27;] = this.argv[&#x27;path&#x27;] = this.argv[&#x27;path&#x27;].concat(this.argv._);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
DreddCommand.prototype.takeRestOfParamsAsPath = function() {
  this.argv[&#x27;p&#x27;] = this.argv[&#x27;path&#x27;] = this.argv[&#x27;path&#x27;].concat(this.argv._);
  return this;
};

DreddCommand.prototype.initConfig = function() {
  var base, configuration;
  this.lastArgvIsApiEndpoint().<span class="apidocCodeKeywordSpan">takeRestOfParamsAsPath</span>();
  configuration = {
    &#x27;server&#x27;: this.server,
    &#x27;options&#x27;: this.argv
  };
  if ((base = configuration.options).path == null) {
    base.path = [];
  }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.hooks" id="apidoc.module.dredd.hooks">module dredd.hooks</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.hooks.hooks" id="apidoc.element.dredd.hooks.hooks">
        function <span class="apidocSignatureSpan">dredd.</span>hooks
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Hooks(options) {
  if (options == null) {
    options = {};
  }
  this.dumpHooksFunctionsToStrings = bind(this.dumpHooksFunctionsToStrings, this);
  this.log = bind(this.log, this);
  this.afterEach = bind(this.afterEach, this);
  this.beforeEachValidation = bind(this.beforeEachValidation, this);
  this.beforeEach = bind(this.beforeEach, this);
  this.afterAll = bind(this.afterAll, this);
  this.beforeAll = bind(this.beforeAll, this);
  this.after = bind(this.after, this);
  this.beforeValidation = bind(this.beforeValidation, this);
  this.before = bind(this.before, this);
  this.logs = options.logs, this.logger = options.logger;
  this.transactions = {};
  this.beforeHooks = {};
  this.beforeValidationHooks = {};
  this.afterHooks = {};
  this.beforeAllHooks = [];
  this.afterAllHooks = [];
  this.beforeEachHooks = [];
  this.beforeEachValidationHooks = [];
  this.afterEachHooks = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.hooks.prototype" id="apidoc.module.dredd.hooks.prototype">module dredd.hooks.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.addHook" id="apidoc.element.dredd.hooks.prototype.addHook">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>addHook
        <span class="apidocSignatureSpan">(hooks, name, hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addHook = function (hooks, name, hook) {
  if (hooks[name]) {
    return hooks[name].push(hook);
  } else {
    return hooks[name] = [hook];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.afterAllHooks = [];
  this.beforeEachHooks = [];
  this.beforeEachValidationHooks = [];
  this.afterEachHooks = [];
}

Hooks.prototype.before = function(name, hook) {
  return this.<span class="apidocCodeKeywordSpan">addHook</span>(this.beforeHooks, name, hook);
};

Hooks.prototype.beforeValidation = function(name, hook) {
  return this.addHook(this.beforeValidationHooks, name, hook);
};

Hooks.prototype.after = function(name, hook) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.after" id="apidoc.element.dredd.hooks.prototype.after">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>after
        <span class="apidocSignatureSpan">(name, hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function (name, hook) {
  return this.addHook(this.afterHooks, name, hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.afterAll" id="apidoc.element.dredd.hooks.prototype.afterAll">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>afterAll
        <span class="apidocSignatureSpan">(hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterAll = function (hook) {
  return this.afterAllHooks.push(hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  };
})(this);
for (i = 0, len = eachHookNames.length; i &#x3c; len; i++) {
  eventName = eachHookNames[i];
  fn(eventName);
}
this.runner.hooks.<span class="apidocCodeKeywordSpan">afterAll</span>((function(_this) {
  return function(transactions, hookCallback) {
    var index, j, len1, modification, modifications, ref;
    if (process.env.TEST_DREDD_HOOKS_HANDLER_ORDER === &#x27;true&#x27;) {
      console.error(&#x27;FOR TESTING ONLY&#x27;);
      modifications = ((ref = transactions[0]) != null ? ref.hooks_modifications : void 0) || [];
      if (!modifications.length) {
        throw new Error(&#x27;Hooks must modify transaction.hooks_modifications&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.afterEach" id="apidoc.element.dredd.hooks.prototype.afterEach">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>afterEach
        <span class="apidocSignatureSpan">(hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterEach = function (hook) {
  return this.afterEachHooks.push(hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.before" id="apidoc.element.dredd.hooks.prototype.before">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>before
        <span class="apidocSignatureSpan">(name, hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">before = function (name, hook) {
  return this.addHook(this.beforeHooks, name, hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.beforeAll" id="apidoc.element.dredd.hooks.prototype.beforeAll">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeAll
        <span class="apidocSignatureSpan">(hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeAll = function (hook) {
  return this.beforeAllHooks.push(hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.beforeEach" id="apidoc.element.dredd.hooks.prototype.beforeEach">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeEach
        <span class="apidocSignatureSpan">(hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeEach = function (hook) {
  return this.beforeEachHooks.push(hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.beforeEachValidation" id="apidoc.element.dredd.hooks.prototype.beforeEachValidation">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeEachValidation
        <span class="apidocSignatureSpan">(hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeEachValidation = function (hook) {
  return this.beforeEachValidationHooks.push(hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.beforeValidation" id="apidoc.element.dredd.hooks.prototype.beforeValidation">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>beforeValidation
        <span class="apidocSignatureSpan">(name, hook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeValidation = function (name, hook) {
  return this.addHook(this.beforeValidationHooks, name, hook);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.dumpHooksFunctionsToStrings" id="apidoc.element.dredd.hooks.prototype.dumpHooksFunctionsToStrings">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>dumpHooksFunctionsToStrings
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dumpHooksFunctionsToStrings = function () {
  var funcArray, hookFunc, i, index, len, names, property, ref, ref1, toReturn, transactionName;
  toReturn = {};
  names = [&#x27;beforeHooks&#x27;, &#x27;beforeValidationHooks&#x27;, &#x27;afterHooks&#x27;, &#x27;beforeAllHooks&#x27;, &#x27;afterAllHooks&#x27;, &#x27;beforeEachHooks&#x27;, &#x27;beforeEachValidationHooks
&#x27;, &#x27;afterEachHooks&#x27;];
  for (i = 0, len = names.length; i &#x3c; len; i++) {
    property = names[i];
    if (Array.isArray(this[property])) {
      toReturn[property] = [];
      ref = this[property];
      for (index in ref) {
        hookFunc = ref[index];
        toReturn[property][index] = hookFunc.toString();
      }
    } else if (typeof this[property] === &#x27;object&#x27; &#x26;&#x26; !Array.isArray(this[property])) {
      toReturn[property] = {};
      ref1 = this[property];
      for (transactionName in ref1) {
        funcArray = ref1[transactionName];
        if (!funcArray.length) {
          continue;
        }
        toReturn[property][transactionName] = [];
        for (index in funcArray) {
          hookFunc = funcArray[index];
          toReturn[property][transactionName][index] = hookFunc.toString();
        }
      }
    }
  }
  return toReturn;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Pitboss = require(&#x27;pitboss-ng&#x27;).Pitboss;

Hooks = require(&#x27;./hooks&#x27;);

sandboxHooksCode = function(hooksCode, callback) {
var hooks, sandbox, wrappedCode;
hooks = new Hooks();
wrappedCode = &#x22;var _hooks = new _Hooks();\n\nvar before = _hooks.before;\nvar after = _hooks.after;\nvar beforeAll = _hooks
.beforeAll;\nvar afterAll = _hooks.afterAll;\nvar beforeEach = _hooks.beforeEach;\nvar afterEach = _hooks.afterEach;\nvar beforeValidation = _hooks.beforeValidation;\nvar beforeEachValidation = _hooks.beforeEachValidation;\n\nvar log = _hooks.log;\n\n&#x22; + hooksCode + &#x22;\ntry {\n  var output = _hooks.<span class="apidocCodeKeywordSpan">dumpHooksFunctionsToStrings</span>();\n} catch(e) {\n  console.log(e.message);\n  console.log(e.stack);\n  throw(e);\n}\n\noutput&#x22;;
sandbox = new Pitboss(wrappedCode);
sandbox.run({
  libraries: {
    &#x27;_Hooks&#x27;: &#x27;../../../lib/hooks&#x27;,
    &#x27;console&#x27;: &#x27;console&#x27;
  }
}, function(err, result) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks.prototype.log" id="apidoc.element.dredd.hooks.prototype.log">
        function <span class="apidocSignatureSpan">dredd.hooks.prototype.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  var args;
  args = 1 &#x3c;= arguments.length ? slice.call(arguments, 0) : [];
  this.logs = hooksLog.apply(null, [this.logs, this.logger].concat(slice.call(args)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } catch (error1) {
    error = error1;
    return logger.warn(&#x22;Skipping hook loading. Error reading hook file &#x27;&#x22; + filePath + &#x22;&#x27;. This probably
 means one or more of your hook files are invalid.\nMessage: &#x22; + error.message + &#x22;\nStack: &#x22; + error.stack);
  }
};
loadSandboxHooksFromStrings = function(callback) {
  if (typeof runner.configuration.hooksData !== &#x27;object&#x27; || Array.isArray(runner.configuration.hooksData) !== false) {
    return callback(new Error(&#x22;hooksData option must be an object e.g. {&#x27;filename.js&#x27;:&#x27;console.<span class="
apidocCodeKeywordSpan">log</span>(\&#x22;Hey!\&#x22;)&#x27;}&#x22;));
  }
  return async.eachSeries(Object.keys(runner.configuration.hooksData), function(key, nextHook) {
    var data;
    data = runner.configuration.hooksData[key];
    return sandboxHooksCode(data, function(sandboxError, result) {
      if (sandboxError) {
        return nextHook(sandboxError);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.hooks_worker_client" id="apidoc.module.dredd.hooks_worker_client">module dredd.hooks_worker_client</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.hooks_worker_client" id="apidoc.element.dredd.hooks_worker_client.hooks_worker_client">
        function <span class="apidocSignatureSpan">dredd.</span>hooks_worker_client
        <span class="apidocSignatureSpan">(runner)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HooksWorkerClient(runner) {
  var options;
  this.runner = runner;
  options = this.runner.hooks.configuration.options;
  this.language = options.language;
  this.timeout = options[&#x27;hooks-worker-timeout&#x27;] || 5000;
  this.connectTimeout = options[&#x27;hooks-worker-connect-timeout&#x27;] || 1500;
  this.connectRetry = options[&#x27;hooks-worker-connect-retry&#x27;] || 500;
  this.afterConnectWait = options[&#x27;hooks-worker-after-connect-wait&#x27;] || 100;
  this.termTimeout = options[&#x27;hooks-worker-term-timeout&#x27;] || 5000;
  this.termRetry = options[&#x27;hooks-worker-term-retry&#x27;] || 500;
  this.handlerHost = options[&#x27;hooks-worker-handler-host&#x27;] || &#x27;127.0.0.1&#x27;;
  this.handlerPort = options[&#x27;hooks-worker-handler-port&#x27;] || 61321;
  this.handlerMessageDelimiter = &#x27;\n&#x27;;
  this.clientConnected = false;
  this.connectError = false;
  this.emitter = new EventEmitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.hooks_worker_client.prototype" id="apidoc.module.dredd.hooks_worker_client.prototype">module dredd.hooks_worker_client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.connectToHandler" id="apidoc.element.dredd.hooks_worker_client.prototype.connectToHandler">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>connectToHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connectToHandler = function (callback) {
  var connectAndSetupClient, start, timeout, waitForConnect;
  start = Date.now();
  waitForConnect = (function(_this) {
    return function() {
      var error, msg, timeout;
      if ((Date.now() - start) &#x3c; _this.connectTimeout) {
        clearTimeout(timeout);
        if (_this.connectError !== false) {
          logger.warn(&#x27;Error connecting to the hooks handler process. Is the handler running? Retrying.&#x27;);
          _this.connectError = false;
        }
        if (_this.clientConnected !== true) {
          connectAndSetupClient();
          return timeout = setTimeout(waitForConnect, _this.connectRetry);
        }
      } else {
        clearTimeout(timeout);
        if (!_this.clientConnected) {
          if (_this.handlerClient != null) {
            _this.handlerClient.destroy();
          }
          msg = (&#x22;Connection timeout &#x22; + (_this.connectTimeout / 1000) + &#x22;s to hooks handler &#x22;) + (&#x22;on &#x22; + _this.handlerHost + &#x22;:&#x22; +
_this.handlerPort + &#x22; exceeded. Try increasing the limit.&#x22;);
          error = new Error(msg);
          return callback(error);
        }
      }
    };
  })(this);
  connectAndSetupClient = (function(_this) {
    return function() {
      var handlerBuffer;
      logger.verbose(&#x27;Starting TCP connection with hooks handler process.&#x27;);
      if (_this.runner.hookHandlerError != null) {
        return callback(_this.runner.hookHandlerError);
      }
      _this.handlerClient = net.connect({
        port: _this.handlerPort,
        host: _this.handlerHost
      });
      _this.handlerClient.on(&#x27;connect&#x27;, function() {
        logger.info(&#x22;Successfully connected to hooks handler. Waiting &#x22; + (_this.afterConnectWait / 1000) + &#x22;s to start testing.&#x22;);
        _this.clientConnected = true;
        clearTimeout(timeout);
        return setTimeout(callback, _this.afterConnectWait);
      });
      _this.handlerClient.on(&#x27;close&#x27;, function() {
        return logger.debug(&#x27;TCP communication with hooks handler closed.&#x27;);
      });
      _this.handlerClient.on(&#x27;error&#x27;, function(connectError) {
        logger.debug(&#x27;TCP communication with hooks handler errored.&#x27;, connectError);
        return _this.connectError = connectError;
      });
      handlerBuffer = &#x27;&#x27;;
      return _this.handlerClient.on(&#x27;data&#x27;, function(data) {
        var i, j, len, len1, message, messages, results, splittedData;
        logger.debug(&#x27;Dredd received some data from hooks handler.&#x27;);
        handlerBuffer += data.toString();
        if (data.toString().indexOf(_this.handlerMessageDelimiter) &#x3e; -1) {
          splittedData = handlerBuffer.split(_this.handlerMessageDelimiter);
          handlerBuffer = splittedData.pop();
          messages = [];
          for (i = 0, len = splittedData.length; i &#x3c; len; i++) {
            message = splittedData[i];
            messages.push(JSON.parse(message));
          }
          results = [];
          for (j = 0, len1 = messages.length; j &#x3c; len1; j++) {
            message = messages[j];
            if (message.uuid != null) {
              logger.verbose(&#x27;Dredd received a valid message from hooks handler:&#x27;, message.uuid);
              results.push(_this.emitter.emit(message.uuid, message));
            } else {
              results.push(logger.verbose(&#x27;UUID not present in hooks handler message, ignoring:&#x27;, JSON.stringify(message, null,
2)));
            }
          }
          return results;
        }
      });
    };
  })(this);
  return timeout = setTimeout(waitForConnect, this.connectRetry);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
logger.verbose(&#x27;Starting hooks handler.&#x27;);
return _this.spawnHandler(function(spawnHandlerError) {
  if (spawnHandlerError) {
    return callback(spawnHandlerError);
  }
  logger.verbose(&#x27;Connecting to hooks handler.&#x27;);
  return _this.<span class="apidocCodeKeywordSpan">connectToHandler</span>(function(connectHandlerError) {
    if (connectHandlerError) {
      return callback(connectHandlerError);
    }
    logger.verbose(&#x27;Registering hooks.&#x27;);
    return _this.registerHooks(function(registerHooksError) {
      if (registerHooksError) {
        return callback(registerHooksError);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.disconnectFromHandler" id="apidoc.element.dredd.hooks_worker_client.prototype.disconnectFromHandler">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>disconnectFromHandler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnectFromHandler = function () {
  return this.handlerClient.destroy();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
      });
    };
  })(this));
};

HooksWorkerClient.prototype.stop = function(callback) {
  this.<span class="apidocCodeKeywordSpan">disconnectFromHandler</span>();
  return this.terminateHandler(callback);
};

HooksWorkerClient.prototype.terminateHandler = function(callback) {
  logger.verbose(&#x27;Terminating hooks handler process, PID&#x27;, this.handler.pid);
  if (this.handler.terminated) {
    logger.debug(&#x27;The hooks handler process has already terminated&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.registerHooks" id="apidoc.element.dredd.hooks_worker_client.prototype.registerHooks">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>registerHooks
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerHooks = function (callback) {
  var eachHookNames, eventName, fn, i, len;
  eachHookNames = [&#x27;beforeEach&#x27;, &#x27;beforeEachValidation&#x27;, &#x27;afterEach&#x27;, &#x27;beforeAll&#x27;, &#x27;afterAll&#x27;];
  fn = (function(_this) {
    return function(eventName) {
      return _this.runner.hooks[eventName](function(data, hookCallback) {
        var handleTimeout, message, messageHandler, timeout, uuid;
        uuid = generateUuid();
        message = {
          event: eventName,
          uuid: uuid,
          data: data
        };
        logger.verbose(&#x27;Sending HTTP transaction data to hooks handler:&#x27;, uuid);
        _this.handlerClient.write(JSON.stringify(message));
        _this.handlerClient.write(_this.handlerMessageDelimiter);
        messageHandler = function(receivedMessage) {
          var index, j, key, len1, ref, ref1, value;
          logger.verbose(&#x27;Handling hook:&#x27;, uuid);
          clearTimeout(timeout);
          if (eventName.indexOf(&#x27;All&#x27;) &#x3e; -1) {
            ref = receivedMessage.data;
            for (index = j = 0, len1 = ref.length; j &#x3c; len1; index = ++j) {
              value = ref[index];
              data[index] = value;
            }
          } else {
            ref1 = receivedMessage.data;
            for (key in ref1) {
              if (!hasProp.call(ref1, key)) continue;
              value = ref1[key];
              data[key] = value;
            }
          }
          return hookCallback();
        };
        handleTimeout = function() {
          logger.warn(&#x27;Hook handling timed out.&#x27;);
          if (eventName.indexOf(&#x27;All&#x27;) === -1) {
            data.fail = &#x27;Hook timed out.&#x27;;
          }
          _this.emitter.removeListener(uuid, messageHandler);
          return hookCallback();
        };
        timeout = setTimeout(handleTimeout, _this.timeout);
        return _this.emitter.on(uuid, messageHandler);
      });
    };
  })(this);
  for (i = 0, len = eachHookNames.length; i &#x3c; len; i++) {
    eventName = eachHookNames[i];
    fn(eventName);
  }
  this.runner.hooks.afterAll((function(_this) {
    return function(transactions, hookCallback) {
      var index, j, len1, modification, modifications, ref;
      if (process.env.TEST_DREDD_HOOKS_HANDLER_ORDER === &#x27;true&#x27;) {
        console.error(&#x27;FOR TESTING ONLY&#x27;);
        modifications = ((ref = transactions[0]) != null ? ref.hooks_modifications : void 0) || [];
        if (!modifications.length) {
          throw new Error(&#x27;Hooks must modify transaction.hooks_modifications&#x27;);
        }
        for (index = j = 0, len1 = modifications.length; j &#x3c; len1; index = ++j) {
          modification = modifications[index];
          console.error(index + &#x22; &#x22; + modification);
        }
        console.error(&#x27;FOR TESTING ONLY&#x27;);
      }
      return _this.stop(hookCallback);
    };
  })(this));
  return callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  logger.verbose(&#x27;Connecting to hooks handler.&#x27;);
  return _this.connectToHandler(function(connectHandlerError) {
    if (connectHandlerError) {
      return callback(connectHandlerError);
    }
    logger.verbose(&#x27;Registering hooks.&#x27;);
    return _this.<span class="apidocCodeKeywordSpan">registerHooks</span>(function(registerHooksError) {
      if (registerHooksError) {
        return callback(registerHooksError);
      }
      return callback();
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.setCommandAndCheckForExecutables" id="apidoc.element.dredd.hooks_worker_client.prototype.setCommandAndCheckForExecutables">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>setCommandAndCheckForExecutables
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCommandAndCheckForExecutables = function (callback) {
  var gobin, msg, parsedArgs;
  if (this.language === &#x27;ruby&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-ruby&#x27;;
    this.handlerCommandArgs = [];
    if (!which.which(this.handlerCommand)) {
      msg = &#x22;Ruby hooks handler command not found: &#x22; + this.handlerCommand + &#x22;\nInstall ruby hooks handler by running:\n$ gem install
 dredd_hooks&#x22;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else if (this.language === &#x27;python&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-python&#x27;;
    this.handlerCommandArgs = [];
    if (!which.which(this.handlerCommand)) {
      msg = &#x22;Python hooks handler command not found: &#x22; + this.handlerCommand + &#x22;\nInstall python hooks handler by running:\n$ pip
 install dredd_hooks&#x22;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else if (this.language === &#x27;php&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-php&#x27;;
    this.handlerCommandArgs = [];
    if (!which.which(this.handlerCommand)) {
      msg = &#x22;PHP hooks handler command not found: &#x22; + this.handlerCommand + &#x22;\nInstall php hooks handler by running:\n$ composer
 require ddelnano/dredd-hooks-php --dev&#x22;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else if (this.language === &#x27;perl&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-perl&#x27;;
    this.handlerCommandArgs = [];
    if (!which.which(this.handlerCommand)) {
      msg = &#x22;Perl hooks handler command not found: &#x22; + this.handlerCommand + &#x22;\nInstall perl hooks handler by running:\n$ cpanm
Dredd::Hooks&#x22;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else if (this.language === &#x27;nodejs&#x27;) {
    msg = &#x27;Hooks handler should not be used for Node.js. Use Dredd\&#x27;s native Node.js hooks instead.&#x27;;
    return callback(new Error(msg));
  } else if (this.language === &#x27;go&#x27;) {
    gobin = process.env.GOBIN;
    if (!gobin) {
      gobin = process.env.GOPATH + &#x22;/bin&#x22;;
    }
    this.handlerCommand = gobin + &#x22;/goodman&#x22;;
    this.handlerCommandArgs = [];
    if (!which.which(this.handlerCommand)) {
      msg = &#x27;Go hooks handler command not found in $GOBIN or $GOPATH/bin\nInstall go hooks handler by running:\n$ go get github.
com/snikch/goodman/cmd/goodman&#x27;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else {
    parsedArgs = spawnArgs(this.language);
    this.handlerCommand = parsedArgs.shift();
    this.handlerCommandArgs = parsedArgs;
    logger.verbose(&#x22;Using &#x27;&#x22; + this.handlerCommand + &#x22;&#x27; as a hook handler command, &#x27;&#x22; + (this.handlerCommandArgs.join(&#x27; &#x27;)) + &#x22;&#x27;
as arguments&#x22;);
    if (!which.which(this.handlerCommand)) {
      msg = &#x22;Hooks handler command not found: &#x22; + this.handlerCommand;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.clientConnected = false;
  this.connectError = false;
  this.emitter = new EventEmitter;
}

HooksWorkerClient.prototype.start = function(callback) {
  logger.verbose(&#x27;Looking up hooks handler implementation:&#x27;, this.language);
  return this.<span class="apidocCodeKeywordSpan">setCommandAndCheckForExecutables</span>((function(_this) {
    return function(executablesError) {
      if (executablesError) {
        return callback(executablesError);
      }
      logger.verbose(&#x27;Starting hooks handler.&#x27;);
      return _this.spawnHandler(function(spawnHandlerError) {
        if (spawnHandlerError) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.spawnHandler" id="apidoc.element.dredd.hooks_worker_client.prototype.spawnHandler">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>spawnHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spawnHandler = function (callback) {
  var handlerCommandArgs, pathGlobs, ref, ref1, ref2;
  pathGlobs = [].concat((ref = this.runner.hooks) != null ? (ref1 = ref.configuration) != null ? (ref2 = ref1.options) != null ?
ref2.hookfiles : void 0 : void 0 : void 0);
  handlerCommandArgs = this.handlerCommandArgs.concat(pathGlobs);
  logger.info(&#x22;Spawning &#x27;&#x22; + this.language + &#x22;&#x27; hooks handler process.&#x22;);
  this.handler = spawn(this.handlerCommand, handlerCommandArgs);
  this.handler.stdout.on(&#x27;data&#x27;, function(data) {
    return logger.info(&#x22;Hooks handler stdout:&#x22;, data.toString());
  });
  this.handler.stderr.on(&#x27;data&#x27;, function(data) {
    return logger.info(&#x22;Hooks handler stderr:&#x22;, data.toString());
  });
  this.handler.on(&#x27;signalTerm&#x27;, function() {
    return logger.verbose(&#x27;Gracefully terminating the hooks handler process&#x27;);
  });
  this.handler.on(&#x27;signalKill&#x27;, function() {
    return logger.verbose(&#x27;Killing the hooks handler process&#x27;);
  });
  this.handler.on(&#x27;crash&#x27;, (function(_this) {
    return function(exitStatus, killed) {
      var msg;
      if (killed) {
        msg = &#x22;Hooks handler process &#x27;&#x22; + _this.handlerCommand + &#x22; &#x22; + (handlerCommandArgs.join(&#x27; &#x27;)) + &#x22;&#x27; was killed.&#x22;;
      } else {
        msg = &#x22;Hooks handler process &#x27;&#x22; + _this.handlerCommand + &#x22; &#x22; + (handlerCommandArgs.join(&#x27; &#x27;)) + &#x22;&#x27; exited with status: &#x22; +
exitStatus;
      }
      logger.error(msg);
      return _this.runner.hookHandlerError = new Error(msg);
    };
  })(this));
  this.handler.on(&#x27;error&#x27;, (function(_this) {
    return function(err) {
      return _this.runner.hookHandlerError = err;
    };
  })(this));
  return callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
logger.verbose(&#x27;Looking up hooks handler implementation:&#x27;, this.language);
return this.setCommandAndCheckForExecutables((function(_this) {
  return function(executablesError) {
    if (executablesError) {
      return callback(executablesError);
    }
    logger.verbose(&#x27;Starting hooks handler.&#x27;);
    return _this.<span class="apidocCodeKeywordSpan">spawnHandler</span>(function(spawnHandlerError) {
      if (spawnHandlerError) {
        return callback(spawnHandlerError);
      }
      logger.verbose(&#x27;Connecting to hooks handler.&#x27;);
      return _this.connectToHandler(function(connectHandlerError) {
        if (connectHandlerError) {
          return callback(connectHandlerError);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.start" id="apidoc.element.dredd.hooks_worker_client.prototype.start">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>start
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (callback) {
  logger.verbose(&#x27;Looking up hooks handler implementation:&#x27;, this.language);
  return this.setCommandAndCheckForExecutables((function(_this) {
    return function(executablesError) {
      if (executablesError) {
        return callback(executablesError);
      }
      logger.verbose(&#x27;Starting hooks handler.&#x27;);
      return _this.spawnHandler(function(spawnHandlerError) {
        if (spawnHandlerError) {
          return callback(spawnHandlerError);
        }
        logger.verbose(&#x27;Connecting to hooks handler.&#x27;);
        return _this.connectToHandler(function(connectHandlerError) {
          if (connectHandlerError) {
            return callback(connectHandlerError);
          }
          logger.verbose(&#x27;Registering hooks.&#x27;);
          return _this.registerHooks(function(registerHooksError) {
            if (registerHooksError) {
              return callback(registerHooksError);
            }
            return callback();
          });
        });
      });
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    for (k = 0, len2 = files.length; k &#x3c; len2; k++) {
      file = files[k];
      loadHookFile(file);
    }
    return callback();
  } else {
    hooksWorkerClient = new HooksWorkerClient(runner);
    return hooksWorkerClient.<span class="apidocCodeKeywordSpan">start</span>(callback);
  }
} else {
  logger.info(&#x27;Loading hook files in sandboxed context:&#x27;, files);
  return async.eachSeries(files, function(fileName, nextFile) {
    var resolvedPath;
    resolvedPath = path.resolve(customConfigCwd || process.cwd(), fileName);
    return fs.readFile(resolvedPath, &#x27;utf8&#x27;, function(readingError, data) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.stop" id="apidoc.element.dredd.hooks_worker_client.prototype.stop">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>stop
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function (callback) {
  this.disconnectFromHandler();
  return this.terminateHandler(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }
        for (index = j = 0, len1 = modifications.length; j &#x3c; len1; index = ++j) {
          modification = modifications[index];
          console.error(index + &#x22; &#x22; + modification);
        }
        console.error(&#x27;FOR TESTING ONLY&#x27;);
      }
      return _this.<span class="apidocCodeKeywordSpan">stop</span>(hookCallback);
    };
  })(this));
  return callback();
};

return HooksWorkerClient;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.hooks_worker_client.prototype.terminateHandler" id="apidoc.element.dredd.hooks_worker_client.prototype.terminateHandler">
        function <span class="apidocSignatureSpan">dredd.hooks_worker_client.prototype.</span>terminateHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">terminateHandler = function (callback) {
  logger.verbose(&#x27;Terminating hooks handler process, PID&#x27;, this.handler.pid);
  if (this.handler.terminated) {
    logger.debug(&#x27;The hooks handler process has already terminated&#x27;);
    return callback();
  }
  this.handler.terminate({
    force: true,
    timeout: this.termTimeout,
    retryDelay: this.termRetry
  });
  return this.handler.on(&#x27;close&#x27;, function() {
    return callback();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      });
    };
  })(this));
};

HooksWorkerClient.prototype.stop = function(callback) {
  this.disconnectFromHandler();
  return this.<span class="apidocCodeKeywordSpan">terminateHandler</span>(callback);
};

HooksWorkerClient.prototype.terminateHandler = function(callback) {
  logger.verbose(&#x27;Terminating hooks handler process, PID&#x27;, this.handler.pid);
  if (this.handler.terminated) {
    logger.debug(&#x27;The hooks handler process has already terminated&#x27;);
    return callback();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.interactive_config" id="apidoc.module.dredd.interactive_config">module dredd.interactive_config</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.interactive_config.processAnswers" id="apidoc.element.dredd.interactive_config.processAnswers">
        function <span class="apidocSignatureSpan">dredd.interactive_config.</span>processAnswers
        <span class="apidocSignatureSpan">(config, answers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processAnswers = function (config, answers, callback) {
  if (config == null) {
    config = {};
  }
  if (config[&#x27;_&#x27;] == null) {
    config[&#x27;_&#x27;] = [];
  }
  config[&#x27;_&#x27;][0] = answers[&#x27;blueprint&#x27;];
  config[&#x27;_&#x27;][1] = answers[&#x27;endpoint&#x27;];
  config[&#x27;server&#x27;] = answers[&#x27;server&#x27;] || null;
  config[&#x27;language&#x27;] = answers[&#x27;language&#x27;];
  if (answers[&#x27;apiary&#x27;] === true) {
    config[&#x27;reporter&#x27;] = &#x22;apiary&#x22;;
  }
  if (config[&#x27;custom&#x27;] == null) {
    config[&#x27;custom&#x27;] = {};
  }
  if (answers[&#x27;apiaryApiKey&#x27;] != null) {
    config[&#x27;custom&#x27;][&#x27;apiaryApiKey&#x27;] = answers[&#x27;apiaryApiKey&#x27;];
  }
  if (answers[&#x27;apiaryApiName&#x27;] != null) {
    config[&#x27;custom&#x27;][&#x27;apiaryApiName&#x27;] = answers[&#x27;apiaryApiName&#x27;];
  }
  if (answers[&#x27;circleAdd&#x27;] || answers[&#x27;circleCreate&#x27;]) {
    interactiveConfig.updateCircle();
  }
  if (answers[&#x27;travisAdd&#x27;] === true) {
    interactiveConfig.updateTravis();
  }
  callback(config);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  interactiveConfig.updateTravis();
}
callback(config);
};

interactiveConfig.run = function(config, callback) {
interactiveConfig.prompt(config, function(answers) {
  return interactiveConfig.<span class="apidocCodeKeywordSpan">processAnswers</span>(config, answers, callback);
});
};

interactiveConfig.updateCircle = function() {
var base, base1, config, file, yamlData;
file = &#x22;circle.yml&#x22;;
if (fs.existsSync(file)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.interactive_config.prompt" id="apidoc.element.dredd.interactive_config.prompt">
        function <span class="apidocSignatureSpan">dredd.interactive_config.</span>prompt
        <span class="apidocSignatureSpan">(config, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (config, callback) {
  var questions, ref, ref1;
  if (config == null) {
    config = {};
  }
  questions = [];
  questions.push({
    type: &#x22;input&#x22;,
    name: &#x22;blueprint&#x22;,
    message: &#x22;Location of the API description document&#x22;,
    &#x22;default&#x22;: config[&#x27;blueprint&#x27;] || &#x22;apiary.apib&#x22;
  });
  questions.push({
    type: &#x22;input&#x22;,
    name: &#x22;server&#x22;,
    message: &#x22;Command to start API backend server e.g. (bundle exec rails server)&#x22;,
    &#x22;default&#x22;: config[&#x27;server&#x27;]
  });
  questions.push({
    type: &#x22;input&#x22;,
    name: &#x22;endpoint&#x22;,
    message: &#x22;URL of tested API endpoint&#x22;,
    &#x22;default&#x22;: config[&#x27;endpoint&#x27;] || &#x22;http://127.0.0.1:3000&#x22;
  });
  questions.push({
    type: &#x22;list&#x22;,
    name: &#x22;language&#x22;,
    message: &#x22;Programming language of hooks&#x22;,
    &#x22;default&#x22;: &#x22;nodejs&#x22;,
    choices: [&#x22;ruby&#x22;, &#x22;python&#x22;, &#x22;nodejs&#x22;, &#x22;php&#x22;, &#x22;perl&#x22;, &#x22;go&#x22;]
  });
  questions.push({
    type: &#x22;confirm&#x22;,
    name: &#x22;apiary&#x22;,
    message: &#x22;Do you want to use Apiary test inspector?&#x22;,
    &#x22;default&#x22;: true,
    when: function(answers) {
      return config[&#x27;reporter&#x27;] !== &#x27;apiary&#x27;;
    }
  });
  questions.push({
    type: &#x22;input&#x22;,
    name: &#x22;apiaryApiKey&#x22;,
    message: &#x22;Please enter Apiary API key or leave empty for anonymous reporter&#x22;,
    &#x22;default&#x22;: (ref = config[&#x27;custom&#x27;]) != null ? ref[&#x27;apiaryApiKey&#x27;] : void 0,
    when: function(answers) {
      var ref1;
      return answers[&#x27;apiary&#x27;] === true &#x26;&#x26; (((ref1 = config[&#x27;custom&#x27;]) != null ? ref1[&#x27;apiaryApiKey&#x27;] : void 0) == null);
    }
  });
  questions.push({
    type: &#x22;input&#x22;,
    name: &#x22;apiaryApiName&#x22;,
    message: &#x22;Please enter Apiary API name&#x22;,
    &#x22;default&#x22;: (ref1 = config[&#x27;custom&#x27;]) != null ? ref1[&#x27;apiaryApiName&#x27;] : void 0,
    when: function(answers) {
      var ref2;
      return (answers[&#x27;apiary&#x27;] === true &#x26;&#x26; (((ref2 = config[&#x27;custom&#x27;]) != null ? ref2[&#x27;apiaryApiName&#x27;] : void 0) == null)) &#x26;&#x26; (
answers[&#x27;apiary&#x27;] === true &#x26;&#x26; answers[&#x27;apiaryApiKey&#x27;] !== &#x27;&#x27;);
    }
  });
  questions.push({
    type: &#x22;confirm&#x22;,
    name: &#x22;travisAdd&#x22;,
    message: &#x22;Found Travis CI configuration, do you want to add Dredd to the build?&#x22;,
    &#x22;default&#x22;: true,
    when: function() {
      return fs.existsSync(&#x27;.travis.yml&#x27;);
    }
  });
  questions.push({
    type: &#x22;confirm&#x22;,
    name: &#x22;circleAdd&#x22;,
    message: &#x22;Found CircleCI configuration, do you want to add Dredd to the build?&#x22;,
    &#x22;default&#x22;: true,
    when: function() {
      return fs.existsSync(&#x27;circle.yml&#x27;);
    }
  });
  questions.push({
    type: &#x22;confirm&#x22;,
    name: &#x22;circleCreate&#x22;,
    message: &#x22;Dredd is best served with Continuous Integration. Create CircleCI config for Dredd?&#x22;,
    when: function(answers) {
      return !fs.existsSync(&#x27;circle.yml&#x27;) &#x26;&#x26; !fs.existsSync(&#x27;.travis.yml&#x27;);
    }
  });
  return inquirer.prompt(questions).then(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  type: &#x22;confirm&#x22;,
  name: &#x22;circleCreate&#x22;,
  message: &#x22;Dredd is best served with Continuous Integration. Create CircleCI config for Dredd?&#x22;,
  when: function(answers) {
    return !fs.existsSync(&#x27;circle.yml&#x27;) &#x26;&#x26; !fs.existsSync(&#x27;.travis.yml&#x27;);
  }
});
return inquirer.<span class="apidocCodeKeywordSpan">prompt</span>(questions).then(callback);
};

interactiveConfig.processAnswers = function(config, answers, callback) {
if (config == null) {
  config = {};
}
if (config[&#x27;_&#x27;] == null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.interactive_config.run" id="apidoc.element.dredd.interactive_config.run">
        function <span class="apidocSignatureSpan">dredd.interactive_config.</span>run
        <span class="apidocSignatureSpan">(config, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (config, callback) {
  interactiveConfig.prompt(config, function(answers) {
    return interactiveConfig.processAnswers(config, answers, callback);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

DreddCommand.prototype.runExitingActions = function() {
  if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
    logger.silly(&#x27;Starting interactive configuration.&#x27;);
    this.finished = true;
    return interactiveConfig.<span class="apidocCodeKeywordSpan">run</span>(this.argv, (function(_this) {
      return function(config) {
        configUtils.save(config);
        console.log(&#x22;&#x22;);
        console.log(&#x22;Configuration saved to dredd.yml&#x22;);
        console.log(&#x22;&#x22;);
        if (config[&#x27;language&#x27;] === &#x22;nodejs&#x22;) {
          console.log(&#x22;Run test now, with:&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.interactive_config.updateCircle" id="apidoc.element.dredd.interactive_config.updateCircle">
        function <span class="apidocSignatureSpan">dredd.interactive_config.</span>updateCircle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCircle = function () {
  var base, base1, config, file, yamlData;
  file = &#x22;circle.yml&#x22;;
  if (fs.existsSync(file)) {
    config = yaml.safeLoad(fs.readFileSync(file));
  } else {
    config = {};
  }
  if (config[&#x27;dependencies&#x27;] == null) {
    config[&#x27;dependencies&#x27;] = {};
  }
  if ((base = config[&#x27;dependencies&#x27;])[&#x27;pre&#x27;] == null) {
    base[&#x27;pre&#x27;] = [];
  }
  if (config[&#x27;dependencies&#x27;][&#x27;pre&#x27;].indexOf(&#x22;npm install -g dredd&#x22;) === -1) {
    config[&#x27;dependencies&#x27;][&#x27;pre&#x27;].push(&#x22;npm install -g dredd@&#x22; + packageData.version);
  }
  if (config[&#x27;test&#x27;] == null) {
    config[&#x27;test&#x27;] = {};
  }
  if ((base1 = config[&#x27;test&#x27;])[&#x27;pre&#x27;] == null) {
    base1[&#x27;pre&#x27;] = [];
  }
  if (config[&#x27;test&#x27;][&#x27;pre&#x27;].indexOf(&#x22;dredd&#x22;) === -1) {
    config[&#x27;test&#x27;][&#x27;pre&#x27;].push(&#x22;dredd&#x22;);
  }
  yamlData = yaml.safeDump(config);
  fs.writeFileSync(file, yamlData);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (answers[&#x27;apiaryApiKey&#x27;] != null) {
    config[&#x27;custom&#x27;][&#x27;apiaryApiKey&#x27;] = answers[&#x27;apiaryApiKey&#x27;];
  }
  if (answers[&#x27;apiaryApiName&#x27;] != null) {
    config[&#x27;custom&#x27;][&#x27;apiaryApiName&#x27;] = answers[&#x27;apiaryApiName&#x27;];
  }
  if (answers[&#x27;circleAdd&#x27;] || answers[&#x27;circleCreate&#x27;]) {
    interactiveConfig.<span class="apidocCodeKeywordSpan">updateCircle</span>();
  }
  if (answers[&#x27;travisAdd&#x27;] === true) {
    interactiveConfig.updateTravis();
  }
  callback(config);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.interactive_config.updateTravis" id="apidoc.element.dredd.interactive_config.updateTravis">
        function <span class="apidocSignatureSpan">dredd.interactive_config.</span>updateTravis
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateTravis = function () {
  var config, file, yamlData;
  file = &#x22;.travis.yml&#x22;;
  if (fs.existsSync(file)) {
    config = yaml.safeLoad(fs.readFileSync(file));
  } else {
    config = {};
  }
  if (config[&#x27;before_install&#x27;] == null) {
    config[&#x27;before_install&#x27;] = [];
  }
  if (config[&#x27;before_install&#x27;].indexOf(&#x22;npm install -g dredd&#x22;) === -1) {
    config[&#x27;before_install&#x27;].push(&#x22;npm install -g dredd@&#x22; + packageData.version);
  }
  if (config[&#x27;before_script&#x27;] == null) {
    config[&#x27;before_script&#x27;] = [];
  }
  if (config[&#x27;before_script&#x27;].indexOf(&#x22;dredd&#x22;) === -1) {
    config[&#x27;before_script&#x27;].push(&#x22;dredd&#x22;);
  }
  yamlData = yaml.safeDump(config);
  fs.writeFileSync(file, yamlData);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (answers[&#x27;apiaryApiName&#x27;] != null) {
  config[&#x27;custom&#x27;][&#x27;apiaryApiName&#x27;] = answers[&#x27;apiaryApiName&#x27;];
}
if (answers[&#x27;circleAdd&#x27;] || answers[&#x27;circleCreate&#x27;]) {
  interactiveConfig.updateCircle();
}
if (answers[&#x27;travisAdd&#x27;] === true) {
  interactiveConfig.<span class="apidocCodeKeywordSpan">updateTravis</span>();
}
callback(config);
};

interactiveConfig.run = function(config, callback) {
interactiveConfig.prompt(config, function(answers) {
  return interactiveConfig.processAnswers(config, answers, callback);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.logger" id="apidoc.module.dredd.logger">module dredd.logger</a></h1>










    <h2>
        <a href="#apidoc.element.dredd.logger.actual" id="apidoc.element.dredd.logger.actual">
        function <span class="apidocSignatureSpan">dredd.logger.</span>actual
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">actual = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.complete" id="apidoc.element.dredd.logger.complete">
        function <span class="apidocSignatureSpan">dredd.logger.</span>complete
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">complete = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.debug" id="apidoc.element.dredd.logger.debug">
        function <span class="apidocSignatureSpan">dredd.logger.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DreddCommand.prototype.stopServer = function(callback) {
if (this.serverProcess == null) {
  logger.verbose(&#x27;No backend server process to terminate.&#x27;);
  return callback();
}
if (this.serverProcess.terminated) {
  logger.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;The backend server process has already terminated&#x27;);
  return callback();
}
logger.verbose(&#x27;Terminating backend server process, PID&#x27;, this.serverProcess.pid);
this.serverProcess.terminate({
  force: true
});
return this.serverProcess.on(&#x27;exit&#x27;, function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.error" id="apidoc.element.dredd.logger.error">
        function <span class="apidocSignatureSpan">dredd.logger.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

DreddCommand.prototype.checkRequiredArgs = function() {
  var argError;
  argError = false;
  if (this.argv._[0] == null) {
    console.<span class="apidocCodeKeywordSpan">error</span>(&#x22;\nError: Must specify path to API description document.&#x22;);
    argError = true;
  }
  if (this.argv._[1] == null) {
    console.error(&#x22;\nError: Must specify URL of the tested API instance.&#x22;);
    argError = true;
  }
  if (argError) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.expected" id="apidoc.element.dredd.logger.expected">
        function <span class="apidocSignatureSpan">dredd.logger.</span>expected
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expected = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.fail" id="apidoc.element.dredd.logger.fail">
        function <span class="apidocSignatureSpan">dredd.logger.</span>fail
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fail = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.hook" id="apidoc.element.dredd.logger.hook">
        function <span class="apidocSignatureSpan">dredd.logger.</span>hook
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hook = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.info" id="apidoc.element.dredd.logger.info">
        function <span class="apidocSignatureSpan">dredd.logger.</span>info
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
runner.hooks.configuration = clone(runner != null ? runner.configuration : void 0);
files = [];
globs = [].concat(runner != null ? (ref4 = runner.configuration) != null ? (ref5 = ref4.options) != null ? ref5.hookfiles : void
 0 : void 0 : void 0);
for (j = 0, len1 = globs.length; j &#x3c; len1; j++) {
  globItem = globs[j];
  files = files.concat(glob.sync(globItem));
}
logger.<span class="apidocCodeKeywordSpan">info</span>(&#x27;Found Hookfiles:&#x27;, files);
if (!runner.configuration.options.sandbox === true) {
  if ((runner != null ? (ref6 = runner.configuration) != null ? (ref7 = ref6.options) != null ? ref7.language : void 0 : void 0 :
void 0) === &#x22;&#x22; || (runner != null ? (ref8 = runner.configuration) != null ? (ref9 = ref8.options) != null ? ref9.language
 : void 0 : void 0 : void 0) === void 0 || (runner != null ? (ref10 = runner.configuration) != null ? (ref11 = ref10.options) !=
null ? ref11.language : void 0 : void 0 : void 0) === &#x22;nodejs&#x22;) {
    for (k = 0, len2 = files.length; k &#x3c; len2; k++) {
      file = files[k];
      loadHookFile(file);
    }
    return callback();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.pass" id="apidoc.element.dredd.logger.pass">
        function <span class="apidocSignatureSpan">dredd.logger.</span>pass
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pass = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.request" id="apidoc.element.dredd.logger.request">
        function <span class="apidocSignatureSpan">dredd.logger.</span>request
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.silly" id="apidoc.element.dredd.logger.silly">
        function <span class="apidocSignatureSpan">dredd.logger.</span>silly
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">silly = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.optimist.showHelp(console.error);
    return this._processExit(1);
  }
};

DreddCommand.prototype.runExitingActions = function() {
  if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
    logger.<span class="apidocCodeKeywordSpan">silly</span>(&#x27;Starting interactive configuration.&#x27;);
    this.finished = true;
    return interactiveConfig.run(this.argv, (function(_this) {
      return function(config) {
        configUtils.save(config);
        console.log(&#x22;&#x22;);
        console.log(&#x22;Configuration saved to dredd.yml&#x22;);
        console.log(&#x22;&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.skip" id="apidoc.element.dredd.logger.skip">
        function <span class="apidocSignatureSpan">dredd.logger.</span>skip
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.test" id="apidoc.element.dredd.logger.test">
        function <span class="apidocSignatureSpan">dredd.logger.</span>test
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">test = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.verbose" id="apidoc.element.dredd.logger.verbose">
        function <span class="apidocSignatureSpan">dredd.logger.</span>verbose
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">verbose = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

configureReporters = function(config, stats, tests, runner) {
var addCli, addReporter, baseReporter, i, j, len, outputs, path, reporter, reporters, results, usedFileReporters, usedFileReportersLength
;
baseReporter = new BaseReporter(config.emitter, stats, tests);
reporters = config.options.reporter;
outputs = config.options.output;
logger.<span class="apidocCodeKeywordSpan">verbose</span>(&#x27;Configuring reporters:&#x27;, reporters, outputs);
addCli = function(reporters) {
  var cliReporter, usedCliReporters;
  if (reporters.length &#x3e; 0) {
    usedCliReporters = intersection(reporters, cliReporters);
    if (usedCliReporters.length === 0) {
      return cliReporter = new CliReporter(config.emitter, stats, tests, config.options[&#x27;inline-errors&#x27;], config.options
.details);
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.logger.warn" id="apidoc.element.dredd.logger.warn">
        function <span class="apidocSignatureSpan">dredd.logger.</span>warn
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  try {
    proxyquire(filePath, {
      &#x27;hooks&#x27;: runner.hooks
    });
    return fixLegacyTransactionNames(runner.hooks);
  } catch (error1) {
    error = error1;
    return logger.<span class="apidocCodeKeywordSpan">warn</span>(&#x22;Skipping hook loading. Error reading hook file &#x27;&#x22
; + filePath + &#x22;&#x27;. This probably means one or more of your hook files are invalid.\nMessage: &#x22; + error.message + &#x22;\nStack: &#x22; + error.stack);
  }
};
loadSandboxHooksFromStrings = function(callback) {
  if (typeof runner.configuration.hooksData !== &#x27;object&#x27; || Array.isArray(runner.configuration.hooksData) !== false) {
    return callback(new Error(&#x22;hooksData option must be an object e.g. {&#x27;filename.js&#x27;:&#x27;console.log(\&#x22;Hey
!\&#x22;)&#x27;}&#x22;));
  }
  return async.eachSeries(Object.keys(runner.configuration.hooksData), function(key, nextHook) {
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.transaction_runner" id="apidoc.module.dredd.transaction_runner">module dredd.transaction_runner</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.transaction_runner" id="apidoc.element.dredd.transaction_runner.transaction_runner">
        function <span class="apidocSignatureSpan">dredd.</span>transaction_runner
        <span class="apidocSignatureSpan">(configuration1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TransactionRunner(configuration1) {
  this.configuration = configuration1;
  this.executeTransaction = bind(this.executeTransaction, this);
  this.configureTransaction = bind(this.configureTransaction, this);
  this.logs = [];
  this.hookStash = {};
  this.error = null;
  this.hookHandlerError = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.transaction_runner.prototype" id="apidoc.module.dredd.transaction_runner.prototype">module dredd.transaction_runner.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.config" id="apidoc.element.dredd.transaction_runner.prototype.config">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>config
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (config) {
  this.configuration = config;
  return this.multiBlueprint = Object.keys(this.configuration.data).length &#x3e; 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.configureTransaction" id="apidoc.element.dredd.transaction_runner.prototype.configureTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>configureTransaction
        <span class="apidocSignatureSpan">(transaction, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">configureTransaction = function (transaction, callback) {
  var configuration, configuredTransaction, expected, flatHeaders, fullPath, header, headerKey, headerValue, i, len, mediaType,
origin, ref, ref1, request, response, skip, splitIndex, status, system;
  configuration = this.configuration;
  origin = transaction.origin, request = transaction.request, response = transaction.response;
  mediaType = ((ref = configuration.data[origin.filename]) != null ? ref.mediaType : void 0) || &#x27;text/vnd.apiblueprint&#x27;;
  if (this.parsedUrl == null) {
    this.parsedUrl = this.parseServerUrl(configuration.server);
  }
  fullPath = this.getFullPath(this.parsedUrl.path, request.uri);
  flatHeaders = flattenHeaders(request[&#x27;headers&#x27;]);
  if (!flatHeaders[&#x27;User-Agent&#x27;]) {
    system = os.type() + &#x27; &#x27; + os.release() + &#x27;; &#x27; + os.arch();
    flatHeaders[&#x27;User-Agent&#x27;] = &#x22;Dredd/&#x22; + packageData.version + &#x22; (&#x22; + system + &#x22;)&#x22;;
  }
  if (configuration.options.header.length &#x3e; 0) {
    ref1 = configuration.options.header;
    for (i = 0, len = ref1.length; i &#x3c; len; i++) {
      header = ref1[i];
      splitIndex = header.indexOf(&#x27;:&#x27;);
      headerKey = header.substring(0, splitIndex);
      headerValue = header.substring(splitIndex + 1);
      flatHeaders[headerKey] = headerValue;
    }
  }
  request[&#x27;headers&#x27;] = flatHeaders;
  expected = {
    headers: flattenHeaders(response[&#x27;headers&#x27;]),
    body: response[&#x27;body&#x27;],
    statusCode: response[&#x27;status&#x27;]
  };
  if (response[&#x27;schema&#x27;]) {
    expected[&#x27;bodySchema&#x27;] = response[&#x27;schema&#x27;];
  }
  if (!this.multiBlueprint) {
    transaction.name = transaction.name.replace(transaction.origin.apiName + &#x22; &#x3e; &#x22;, &#x22;&#x22;);
  }
  skip = false;
  if (mediaType.indexOf(&#x27;swagger&#x27;) !== -1) {
    status = parseInt(response.status, 10);
    if (status &#x3c; 200 || status &#x3e;= 300) {
      skip = true;
    }
  }
  configuredTransaction = {
    name: transaction.name,
    id: request.method + &#x27; &#x27; + request.uri,
    host: this.parsedUrl.hostname,
    port: this.parsedUrl.port,
    request: request,
    expected: expected,
    origin: origin,
    fullPath: fullPath,
    protocol: this.parsedUrl.protocol,
    skip: skip
  };
  return callback(null, configuredTransaction);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.createTest" id="apidoc.element.dredd.transaction_runner.prototype.createTest">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>createTest
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTest = function (transaction) {
  return {
    status: &#x27;&#x27;,
    title: transaction.id,
    message: transaction.name,
    origin: transaction.origin,
    startedAt: transaction.startedAt
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

TransactionRunner.prototype.emitHookError = function(error, data) {
  var test;
  if (!(error instanceof Error)) {
    error = new Error(error);
  }
  test = this.<span class="apidocCodeKeywordSpan">createTest</span>(data);
  test.request = data.request;
  return this.emitError(error, test);
};

TransactionRunner.prototype.sandboxedHookResultsHandler = function(err, data, results, callback) {
  var i, key, len, log, ref, ref1, value;
  if (results == null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.emitError" id="apidoc.element.dredd.transaction_runner.prototype.emitError">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitError
        <span class="apidocSignatureSpan">(error, test)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitError = function (error, test) {
  logger.debug(&#x27;Emitting to reporters: test error&#x27;);
  this.configuration.emitter.emit(&#x27;test error&#x27;, error, test, function() {});
  return this.error = this.error || error;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
TransactionRunner.prototype.emitHookError = function(error, data) {
  var test;
  if (!(error instanceof Error)) {
    error = new Error(error);
  }
  test = this.createTest(data);
  test.request = data.request;
  return this.<span class="apidocCodeKeywordSpan">emitError</span>(error, test);
};

TransactionRunner.prototype.sandboxedHookResultsHandler = function(err, data, results, callback) {
  var i, key, len, log, ref, ref1, value;
  if (results == null) {
    results = {};
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.emitHookError" id="apidoc.element.dredd.transaction_runner.prototype.emitHookError">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitHookError
        <span class="apidocSignatureSpan">(error, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitHookError = function (error, data) {
  var test;
  if (!(error instanceof Error)) {
    error = new Error(error);
  }
  test = this.createTest(data);
  test.request = data.request;
  return this.emitError(error, test);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var error, hookFn, i, len, transaction, transactions;
hookFn = hooks[hookFnIndex];
try {
  if (legacy) {
    return _this.runLegacyHook(hookFn, data, function(err) {
      if (err) {
        logger.debug(&#x27;Legacy hook errored:&#x27;, err);
        _this.<span class="apidocCodeKeywordSpan">emitHookError</span>(err, data);
      }
      return runHookCallback();
    });
  } else {
    return _this.runHook(hookFn, data, function(err) {
      if (err) {
        logger.debug(&#x27;Hook errored:&#x27;, err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.emitResult" id="apidoc.element.dredd.transaction_runner.prototype.emitResult">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>emitResult
        <span class="apidocSignatureSpan">(transaction, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitResult = function (transaction, callback) {
  if (this.error || !transaction.test) {
    logger.debug(&#x27;No emission of test data to reporters&#x27;, this.error, transaction.test);
    this.error = null;
    return callback();
  }
  if (transaction.skip) {
    logger.debug(&#x27;Emitting to reporters: test skip&#x27;);
    this.configuration.emitter.emit(&#x27;test skip&#x27;, transaction.test, function() {});
    return callback();
  }
  if (transaction.test.valid) {
    if (transaction.fail) {
      this.failTransaction(transaction, &#x22;Failed in after hook: &#x22; + transaction.fail);
      logger.debug(&#x27;Emitting to reporters: test fail&#x27;);
      this.configuration.emitter.emit(&#x27;test fail&#x27;, transaction.test, function() {});
    } else {
      logger.debug(&#x27;Emitting to reporters: test pass&#x27;);
      this.configuration.emitter.emit(&#x27;test pass&#x27;, transaction.test, function() {});
    }
    return callback();
  }
  logger.debug(&#x27;Emitting to reporters: test fail&#x27;);
  this.configuration.emitter.emit(&#x27;test fail&#x27;, transaction.test, function() {});
  return callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          }
          logger.verbose(&#x27;Running \&#x27;after\&#x27; hooks&#x27;);
          return _this.runHooksForData(hooks.afterHooks[transaction.name], transaction, false, function() {
            if (_this.hookHandlerError) {
              return iterationCallback(_this.hookHandlerError);
            }
            logger.debug(&#x22;Evaluating results of transaction execution #&#x22; + (transactionIndex + 1) + &#x22;:&#x22;, transaction
.name);
            return _this.<span class="apidocCodeKeywordSpan">emitResult</span>(transaction, iterationCallback);
          });
        });
      });
    });
  });
}, function(iterationError) {
  if (iterationError) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.ensureTransactionResultsGeneralSection" id="apidoc.element.dredd.transaction_runner.prototype.ensureTransactionResultsGeneralSection">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>ensureTransactionResultsGeneralSection
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensureTransactionResultsGeneralSection = function (transaction) {
  var base, base1;
  if (transaction.results == null) {
    transaction.results = {};
  }
  if ((base = transaction.results).general == null) {
    base.general = {};
  }
  return (base1 = transaction.results.general).results != null ? base1.results : base1.results = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    startedAt: transaction.startedAt
  };
};

TransactionRunner.prototype.failTransaction = function(transaction, reason) {
  var base;
  transaction.fail = true;
  this.<span class="apidocCodeKeywordSpan">ensureTransactionResultsGeneralSection</span>(transaction);
  if (reason) {
    transaction.results.general.results.push({
      severity: &#x27;error&#x27;,
      message: reason
    });
  }
  if (transaction.test == null) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.executeAllTransactions" id="apidoc.element.dredd.transaction_runner.prototype.executeAllTransactions">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>executeAllTransactions
        <span class="apidocSignatureSpan">(transactions, hooks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeAllTransactions = function (transactions, hooks, callback) {
  var i, len, transaction;
  if (!hooks.transactions) {
    hooks.transactions = {};
    for (i = 0, len = transactions.length; i &#x3c; len; i++) {
      transaction = transactions[i];
      hooks.transactions[transaction.name] = transaction;
    }
  }
  if (this.hookHandlerError) {
    return callback(this.hookHandlerError);
  }
  logger.verbose(&#x27;Running \&#x27;beforeAll\&#x27; hooks&#x27;);
  return this.runHooksForData(hooks.beforeAllHooks, transactions, true, (function(_this) {
    return function() {
      if (_this.hookHandlerError) {
        return callback(_this.hookHandlerError);
      }
      return async.timesSeries(transactions.length, function(transactionIndex, iterationCallback) {
        transaction = transactions[transactionIndex];
        logger.verbose(&#x22;Processing transaction #&#x22; + (transactionIndex + 1) + &#x22;:&#x22;, transaction.name);
        logger.verbose(&#x27;Running \&#x27;beforeEach\&#x27; hooks&#x27;);
        return _this.runHooksForData(hooks.beforeEachHooks, transaction, false, function() {
          if (_this.hookHandlerError) {
            return iterationCallback(_this.hookHandlerError);
          }
          logger.verbose(&#x27;Running \&#x27;before\&#x27; hooks&#x27;);
          return _this.runHooksForData(hooks.beforeHooks[transaction.name], transaction, false, function() {
            if (_this.hookHandlerError) {
              return iterationCallback(_this.hookHandlerError);
            }
            return _this.executeTransaction(transaction, hooks, function() {
              if (_this.hookHandlerError) {
                return iterationCallback(_this.hookHandlerError);
              }
              logger.verbose(&#x27;Running \&#x27;afterEach\&#x27; hooks&#x27;);
              return _this.runHooksForData(hooks.afterEachHooks, transaction, false, function() {
                if (_this.hookHandlerError) {
                  return iterationCallback(_this.hookHandlerError);
                }
                logger.verbose(&#x27;Running \&#x27;after\&#x27; hooks&#x27;);
                return _this.runHooksForData(hooks.afterHooks[transaction.name], transaction, false, function() {
                  if (_this.hookHandlerError) {
                    return iterationCallback(_this.hookHandlerError);
                  }
                  logger.debug(&#x22;Evaluating results of transaction execution #&#x22; + (transactionIndex + 1) + &#x22;:&#x22;, transaction.name);
                  return _this.emitResult(transaction, iterationCallback);
                });
              });
            });
          });
        });
      }, function(iterationError) {
        if (iterationError) {
          return callback(iterationError);
        }
        logger.verbose(&#x27;Running \&#x27;afterAll\&#x27; hooks&#x27;);
        return _this.runHooksForData(hooks.afterAllHooks, transactions, true, function() {
          if (_this.hookHandlerError) {
            return callback(_this.hookHandlerError);
          }
          return callback();
        });
      });
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      transactions = results;
      logger.verbose(&#x27;Reading hook files and registering hooks&#x27;);
      return addHooks(_this, transactions, function(addHooksError) {
        if (addHooksError) {
          return callback(addHooksError);
        }
        logger.verbose(&#x27;Executing HTTP transactions&#x27;);
        return _this.<span class="apidocCodeKeywordSpan">executeAllTransactions</span>(transactions, _this.hooks, callback);
      });
    };
  })(this));
};

TransactionRunner.prototype.executeAllTransactions = function(transactions, hooks, callback) {
  var i, len, transaction;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.executeTransaction" id="apidoc.element.dredd.transaction_runner.prototype.executeTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>executeTransaction
        <span class="apidocSignatureSpan">(transaction, hooks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeTransaction = function (transaction, hooks, callback) {
  var m, ref, ref1, ref2, test;
  if (!callback) {
    ref = [hooks, void 0], callback = ref[0], hooks = ref[1];
  }
  transaction.startedAt = Date.now();
  test = this.createTest(transaction);
  logger.debug(&#x27;Emitting to reporters: test start&#x27;);
  this.configuration.emitter.emit(&#x27;test start&#x27;, test, function() {});
  this.ensureTransactionResultsGeneralSection(transaction);
  if (transaction.skip) {
    logger.verbose(&#x27;HTTP transaction was marked in hooks as to be skipped. Skipping&#x27;);
    transaction.test = test;
    this.skipTransaction(transaction, &#x27;Skipped in before hook&#x27;);
    return callback();
  } else if (transaction.fail) {
    logger.verbose(&#x27;HTTP transaction was marked in hooks as to be failed. Reporting as failed&#x27;);
    transaction.test = test;
    this.failTransaction(transaction, &#x22;Failed in before hook: &#x22; + transaction.fail);
    return callback();
  } else if (this.configuration.options[&#x27;dry-run&#x27;]) {
    logger.info(&#x27;Dry run. Not performing HTTP request&#x27;);
    transaction.test = test;
    this.skipTransaction(transaction);
    return callback();
  } else if (this.configuration.options.names) {
    logger.info(transaction.name);
    transaction.test = test;
    this.skipTransaction(transaction);
    return callback();
  } else if (this.configuration.options.method.length &#x3e; 0 &#x26;&#x26; !(ref1 = transaction.request.method, indexOf.call(this.configuration
.options.method, ref1) &#x3e;= 0)) {
    logger.info(&#x22;Only &#x22; + (((function() {
      var i, len, ref2, results1;
      ref2 = this.configuration.options.method;
      results1 = [];
      for (i = 0, len = ref2.length; i &#x3c; len; i++) {
        m = ref2[i];
        results1.push(m.toUpperCase());
      }
      return results1;
    }).call(this)).join(&#x27;, &#x27;)) + &#x22;requests are set to be executed. Not performing HTTP &#x22; + (transaction.request.method.toUpperCase
()) + &#x22; request.&#x22;);
    transaction.test = test;
    this.skipTransaction(transaction);
    return callback();
  } else if (this.configuration.options.only.length &#x3e; 0 &#x26;&#x26; !(ref2 = transaction.name, indexOf.call(this.configuration.options.only
, ref2) &#x3e;= 0)) {
    logger.info(&#x22;Only &#x27;&#x22; + this.configuration.options.only + &#x22;&#x27; transaction is set to be executed. Not performing HTTP request for
 &#x27;&#x22; + transaction.name + &#x22;&#x27;.&#x22;);
    transaction.test = test;
    this.skipTransaction(transaction);
    return callback();
  } else {
    return this.performRequestAndValidate(test, transaction, hooks, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return iterationCallback(_this.hookHandlerError);
}
logger.verbose(&#x27;Running \&#x27;before\&#x27; hooks&#x27;);
return _this.runHooksForData(hooks.beforeHooks[transaction.name], transaction, false, function() {
  if (_this.hookHandlerError) {
    return iterationCallback(_this.hookHandlerError);
  }
  return _this.<span class="apidocCodeKeywordSpan">executeTransaction</span>(transaction, hooks, function() {
    if (_this.hookHandlerError) {
      return iterationCallback(_this.hookHandlerError);
    }
    logger.verbose(&#x27;Running \&#x27;afterEach\&#x27; hooks&#x27;);
    return _this.runHooksForData(hooks.afterEachHooks, transaction, false, function() {
      if (_this.hookHandlerError) {
        return iterationCallback(_this.hookHandlerError);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.failTransaction" id="apidoc.element.dredd.transaction_runner.prototype.failTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>failTransaction
        <span class="apidocSignatureSpan">(transaction, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failTransaction = function (transaction, reason) {
  var base;
  transaction.fail = true;
  this.ensureTransactionResultsGeneralSection(transaction);
  if (reason) {
    transaction.results.general.results.push({
      severity: &#x27;error&#x27;,
      message: reason
    });
  }
  if (transaction.test == null) {
    transaction.test = this.createTest(transaction);
  }
  transaction.test.status = &#x27;fail&#x27;;
  if (reason) {
    transaction.test.message = reason;
  }
  return (base = transaction.test).results != null ? base.results : base.results = transaction.results;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
} catch (error1) {
  error = error1;
  if (error instanceof chai.AssertionError) {
    transactions = Array.isArray(data) ? data : [data];
    for (i = 0, len = transactions.length; i &#x3c; len; i++) {
      transaction = transactions[i];
      _this.<span class="apidocCodeKeywordSpan">failTransaction</span>(transaction, &#x22;Failed assertion in hooks: &#x22; + error
.message);
    }
  } else {
    logger.debug(&#x27;Hook errored:&#x27;, error);
    _this.emitHookError(error, data);
  }
  return runHookCallback();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.getFullPath" id="apidoc.element.dredd.transaction_runner.prototype.getFullPath">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>getFullPath
        <span class="apidocSignatureSpan">(serverPath, requestPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFullPath = function (serverPath, requestPath) {
  var segment, segments, trailingSlash;
  if (serverPath === &#x27;/&#x27;) {
    return requestPath;
  }
  if (!requestPath) {
    return serverPath;
  }
  segments = [serverPath, requestPath];
  segments = (function() {
    var i, len, results1;
    results1 = [];
    for (i = 0, len = segments.length; i &#x3c; len; i++) {
      segment = segments[i];
      results1.push(segment.replace(/^\/|\/$/g, &#x27;&#x27;));
    }
    return results1;
  })();
  trailingSlash = requestPath !== &#x27;/&#x27; &#x26;&#x26; requestPath.slice(-1) === &#x27;/&#x27; ? &#x27;/&#x27; : &#x27;&#x27;;
  return &#x27;/&#x27; + segments.join(&#x27;/&#x27;) + trailingSlash;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var configuration, configuredTransaction, expected, flatHeaders, fullPath, header, headerKey, headerValue, i, len, mediaType, origin
, ref, ref1, request, response, skip, splitIndex, status, system;
configuration = this.configuration;
origin = transaction.origin, request = transaction.request, response = transaction.response;
mediaType = ((ref = configuration.data[origin.filename]) != null ? ref.mediaType : void 0) || &#x27;text/vnd.apiblueprint&#x27;;
if (this.parsedUrl == null) {
  this.parsedUrl = this.parseServerUrl(configuration.server);
}
fullPath = this.<span class="apidocCodeKeywordSpan">getFullPath</span>(this.parsedUrl.path, request.uri);
flatHeaders = flattenHeaders(request[&#x27;headers&#x27;]);
if (!flatHeaders[&#x27;User-Agent&#x27;]) {
  system = os.type() + &#x27; &#x27; + os.release() + &#x27;; &#x27; + os.arch();
  flatHeaders[&#x27;User-Agent&#x27;] = &#x22;Dredd/&#x22; + packageData.version + &#x22; (&#x22; + system + &#x22;)&#x22;;
}
if (configuration.options.header.length &#x3e; 0) {
  ref1 = configuration.options.header;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.getRequestOptionsFromTransaction" id="apidoc.element.dredd.transaction_runner.prototype.getRequestOptionsFromTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>getRequestOptionsFromTransaction
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getRequestOptionsFromTransaction = function (transaction) {
  var options, urlObject;
  urlObject = {
    protocol: transaction.protocol,
    hostname: transaction.host,
    port: transaction.port
  };
  options = clone(this.configuration.http || {});
  options.uri = url.format(urlObject) + transaction.fullPath;
  options.method = transaction.request.method;
  options.headers = transaction.request.headers;
  options.body = transaction.request.body;
  options.proxy = false;
  return options;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return headers[&#x27;Content-Length&#x27;] = body ? Buffer.byteLength(body) : 0;
  }
};

TransactionRunner.prototype.performRequestAndValidate = function(test, transaction, hooks, callback) {
  var error, handleRequest, requestOptions;
  this.setContentLength(transaction);
  requestOptions = this.<span class="apidocCodeKeywordSpan">getRequestOptionsFromTransaction</span>(transaction);
  handleRequest = (function(_this) {
    return function(err, res, body) {
      var real;
      if (err) {
        logger.debug(&#x27;Requesting tested server errored:&#x27;, (&#x22;&#x22; + err) || err.code);
        test.title = transaction.id;
        test.expected = transaction.expected;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.isMultipart" id="apidoc.element.dredd.transaction_runner.prototype.isMultipart">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>isMultipart
        <span class="apidocSignatureSpan">(requestOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isMultipart = function (requestOptions) {
  var caseInsensitiveRequestHeaders, key, ref, ref1, value;
  caseInsensitiveRequestHeaders = {};
  ref = requestOptions.headers;
  for (key in ref) {
    value = ref[key];
    caseInsensitiveRequestHeaders[key.toLowerCase()] = value;
  }
  return ((ref1 = caseInsensitiveRequestHeaders[&#x27;content-type&#x27;]) != null ? ref1.indexOf(&#x22;multipart&#x22;) : void 0) &#x3e; -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          return callback(_this.hookHandlerError);
        }
        return _this.validateTransaction(test, transaction, callback);
      });
    });
  };
})(this);
if (transaction.request[&#x27;body&#x27;] &#x26;&#x26; this.<span class="apidocCodeKeywordSpan">isMultipart</span>(requestOptions
)) {
  this.replaceLineFeedInBody(transaction, requestOptions);
}
try {
  return this.performRequest(requestOptions, handleRequest);
} catch (error1) {
  error = error1;
  logger.debug(&#x27;Requesting tested server errored:&#x27;, error);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.parseServerUrl" id="apidoc.element.dredd.transaction_runner.prototype.parseServerUrl">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>parseServerUrl
        <span class="apidocSignatureSpan">(serverUrl)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseServerUrl = function (serverUrl) {
  if (!serverUrl.match(/^https?:\/\//i)) {
    serverUrl = &#x27;http://&#x27; + serverUrl.replace(/^[:\/]*/, &#x27;&#x27;);
  }
  return url.parse(serverUrl);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  TransactionRunner.prototype.configureTransaction = function(transaction, callback) {
var configuration, configuredTransaction, expected, flatHeaders, fullPath, header, headerKey, headerValue, i, len, mediaType, origin
, ref, ref1, request, response, skip, splitIndex, status, system;
configuration = this.configuration;
origin = transaction.origin, request = transaction.request, response = transaction.response;
mediaType = ((ref = configuration.data[origin.filename]) != null ? ref.mediaType : void 0) || &#x27;text/vnd.apiblueprint&#x27;;
if (this.parsedUrl == null) {
  this.parsedUrl = this.<span class="apidocCodeKeywordSpan">parseServerUrl</span>(configuration.server);
}
fullPath = this.getFullPath(this.parsedUrl.path, request.uri);
flatHeaders = flattenHeaders(request[&#x27;headers&#x27;]);
if (!flatHeaders[&#x27;User-Agent&#x27;]) {
  system = os.type() + &#x27; &#x27; + os.release() + &#x27;; &#x27; + os.arch();
  flatHeaders[&#x27;User-Agent&#x27;] = &#x22;Dredd/&#x22; + packageData.version + &#x22; (&#x22; + system + &#x22;)&#x22;;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.performRequest" id="apidoc.element.dredd.transaction_runner.prototype.performRequest">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>performRequest
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">performRequest = function (options, callback) {
  var protocol;
  protocol = options.uri.split(&#x27;:&#x27;)[0].toUpperCase();
  logger.verbose(&#x22;About to perform an &#x22; + protocol + &#x22; request to the server under test: &#x22; + options.method + &#x22; &#x22; + options.uri);
  return requestLib(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  };
})(this);
if (transaction.request[&#x27;body&#x27;] &#x26;&#x26; this.isMultipart(requestOptions)) {
  this.replaceLineFeedInBody(transaction, requestOptions);
}
try {
  return this.<span class="apidocCodeKeywordSpan">performRequest</span>(requestOptions, handleRequest);
} catch (error1) {
  error = error1;
  logger.debug(&#x27;Requesting tested server errored:&#x27;, error);
  test.title = transaction.id;
  test.expected = transaction.expected;
  test.request = transaction.request;
  this.emitError(error, test);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.performRequestAndValidate" id="apidoc.element.dredd.transaction_runner.prototype.performRequestAndValidate">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>performRequestAndValidate
        <span class="apidocSignatureSpan">(test, transaction, hooks, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">performRequestAndValidate = function (test, transaction, hooks, callback) {
  var error, handleRequest, requestOptions;
  this.setContentLength(transaction);
  requestOptions = this.getRequestOptionsFromTransaction(transaction);
  handleRequest = (function(_this) {
    return function(err, res, body) {
      var real;
      if (err) {
        logger.debug(&#x27;Requesting tested server errored:&#x27;, (&#x22;&#x22; + err) || err.code);
        test.title = transaction.id;
        test.expected = transaction.expected;
        test.request = transaction.request;
        _this.emitError(err, test);
        return callback();
      }
      logger.verbose(&#x27;Handling HTTP response from tested server&#x27;);
      real = {
        statusCode: res.statusCode,
        headers: res.headers,
        body: body
      };
      transaction[&#x27;real&#x27;] = real;
      logger.verbose(&#x27;Running \&#x27;beforeEachValidation\&#x27; hooks&#x27;);
      return _this.runHooksForData(hooks != null ? hooks.beforeEachValidationHooks : void 0, transaction, false, function() {
        if (_this.hookHandlerError) {
          return callback(_this.hookHandlerError);
        }
        logger.verbose(&#x27;Running \&#x27;beforeValidation\&#x27; hooks&#x27;);
        return _this.runHooksForData(hooks != null ? hooks.beforeValidationHooks[transaction.name] : void 0, transaction, false,
function() {
          if (_this.hookHandlerError) {
            return callback(_this.hookHandlerError);
          }
          return _this.validateTransaction(test, transaction, callback);
        });
      });
    };
  })(this);
  if (transaction.request[&#x27;body&#x27;] &#x26;&#x26; this.isMultipart(requestOptions)) {
    this.replaceLineFeedInBody(transaction, requestOptions);
  }
  try {
    return this.performRequest(requestOptions, handleRequest);
  } catch (error1) {
    error = error1;
    logger.debug(&#x27;Requesting tested server errored:&#x27;, error);
    test.title = transaction.id;
    test.expected = transaction.expected;
    test.request = transaction.request;
    this.emitError(error, test);
    return callback();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return callback();
  } else if (this.configuration.options.only.length &#x3e; 0 &#x26;&#x26; !(ref2 = transaction.name, indexOf.call(this.configuration
.options.only, ref2) &#x3e;= 0)) {
    logger.info(&#x22;Only &#x27;&#x22; + this.configuration.options.only + &#x22;&#x27; transaction is set to be executed. Not
performing HTTP request for &#x27;&#x22; + transaction.name + &#x22;&#x27;.&#x22;);
    transaction.test = test;
    this.skipTransaction(transaction);
    return callback();
  } else {
    return this.<span class="apidocCodeKeywordSpan">performRequestAndValidate</span>(test, transaction, hooks, callback);
  }
};

TransactionRunner.prototype.setContentLength = function(transaction) {
  var body, calculatedContentLengthValue, contentLengthHeaderName, contentLengthValue, headers;
  headers = transaction.request.headers;
  body = transaction.request.body;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.replaceLineFeedInBody" id="apidoc.element.dredd.transaction_runner.prototype.replaceLineFeedInBody">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>replaceLineFeedInBody
        <span class="apidocSignatureSpan">(transaction, requestOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceLineFeedInBody = function (transaction, requestOptions) {
  if (transaction.request[&#x27;body&#x27;].indexOf(&#x27;\r\n&#x27;) === -1) {
    transaction.request[&#x27;body&#x27;] = transaction.request[&#x27;body&#x27;].replace(/\n/g, &#x27;\r\n&#x27;);
    transaction.request[&#x27;headers&#x27;][&#x27;Content-Length&#x27;] = Buffer.byteLength(transaction.request[&#x27;body&#x27;], &#x27;utf8&#x27;);
    return requestOptions.headers = transaction.request[&#x27;headers&#x27;];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }
        return _this.validateTransaction(test, transaction, callback);
      });
    });
  };
})(this);
if (transaction.request[&#x27;body&#x27;] &#x26;&#x26; this.isMultipart(requestOptions)) {
  this.<span class="apidocCodeKeywordSpan">replaceLineFeedInBody</span>(transaction, requestOptions);
}
try {
  return this.performRequest(requestOptions, handleRequest);
} catch (error1) {
  error = error1;
  logger.debug(&#x27;Requesting tested server errored:&#x27;, error);
  test.title = transaction.id;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.run" id="apidoc.element.dredd.transaction_runner.prototype.run">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>run
        <span class="apidocSignatureSpan">(transactions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (transactions, callback) {
  logger.verbose(&#x27;Sorting HTTP transactions&#x27;);
  transactions = this.configuration.options[&#x27;sorted&#x27;] ? sortTransactions(transactions) : transactions;
  logger.verbose(&#x27;Configuring HTTP transactions&#x27;);
  return async.mapSeries(transactions, this.configureTransaction.bind(this), (function(_this) {
    return function(err, results) {
      transactions = results;
      logger.verbose(&#x27;Reading hook files and registering hooks&#x27;);
      return addHooks(_this, transactions, function(addHooksError) {
        if (addHooksError) {
          return callback(addHooksError);
        }
        logger.verbose(&#x27;Executing HTTP transactions&#x27;);
        return _this.executeAllTransactions(transactions, _this.hooks, callback);
      });
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

DreddCommand.prototype.runExitingActions = function() {
  if (this.argv[&#x22;_&#x22;][0] === &#x22;init&#x22; || this.argv.init === true) {
    logger.silly(&#x27;Starting interactive configuration.&#x27;);
    this.finished = true;
    return interactiveConfig.<span class="apidocCodeKeywordSpan">run</span>(this.argv, (function(_this) {
      return function(config) {
        configUtils.save(config);
        console.log(&#x22;&#x22;);
        console.log(&#x22;Configuration saved to dredd.yml&#x22;);
        console.log(&#x22;&#x22;);
        if (config[&#x27;language&#x27;] === &#x22;nodejs&#x22;) {
          console.log(&#x22;Run test now, with:&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.runHook" id="apidoc.element.dredd.transaction_runner.prototype.runHook">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runHook
        <span class="apidocSignatureSpan">(hook, data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runHook = function (hook, data, callback) {
  if (typeof hook === &#x27;function&#x27;) {
    if (hook.length === 1) {
      hook(data);
      callback();
    } else if (hook.length === 2) {
      hook(data, function() {
        return callback();
      });
    }
  }
  if (typeof hook === &#x27;string&#x27;) {
    return this.runSandboxedHookFromString(hook, data, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) {
      logger.debug(&#x27;Legacy hook errored:&#x27;, err);
      _this.emitHookError(err, data);
    }
    return runHookCallback();
  });
} else {
  return _this.<span class="apidocCodeKeywordSpan">runHook</span>(hookFn, data, function(err) {
    if (err) {
      logger.debug(&#x27;Hook errored:&#x27;, err);
      _this.emitHookError(err, data);
    }
    return runHookCallback();
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.runHooksForData" id="apidoc.element.dredd.transaction_runner.prototype.runHooksForData">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runHooksForData
        <span class="apidocSignatureSpan">(hooks, data, legacy, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runHooksForData = function (hooks, data, legacy, callback) {
  var runHookWithData;
  if (legacy == null) {
    legacy = false;
  }
  if ((hooks != null) &#x26;&#x26; Array.isArray(hooks)) {
    logger.debug(&#x27;Running hooks...&#x27;);
    runHookWithData = (function(_this) {
      return function(hookFnIndex, runHookCallback) {
        var error, hookFn, i, len, transaction, transactions;
        hookFn = hooks[hookFnIndex];
        try {
          if (legacy) {
            return _this.runLegacyHook(hookFn, data, function(err) {
              if (err) {
                logger.debug(&#x27;Legacy hook errored:&#x27;, err);
                _this.emitHookError(err, data);
              }
              return runHookCallback();
            });
          } else {
            return _this.runHook(hookFn, data, function(err) {
              if (err) {
                logger.debug(&#x27;Hook errored:&#x27;, err);
                _this.emitHookError(err, data);
              }
              return runHookCallback();
            });
          }
        } catch (error1) {
          error = error1;
          if (error instanceof chai.AssertionError) {
            transactions = Array.isArray(data) ? data : [data];
            for (i = 0, len = transactions.length; i &#x3c; len; i++) {
              transaction = transactions[i];
              _this.failTransaction(transaction, &#x22;Failed assertion in hooks: &#x22; + error.message);
            }
          } else {
            logger.debug(&#x27;Hook errored:&#x27;, error);
            _this.emitHookError(error, data);
          }
          return runHookCallback();
        }
      };
    })(this);
    return async.timesSeries(hooks.length, runHookWithData, function() {
      return callback();
    });
  } else {
    return callback();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    hooks.transactions[transaction.name] = transaction;
  }
}
if (this.hookHandlerError) {
  return callback(this.hookHandlerError);
}
logger.verbose(&#x27;Running \&#x27;beforeAll\&#x27; hooks&#x27;);
return this.<span class="apidocCodeKeywordSpan">runHooksForData</span>(hooks.beforeAllHooks, transactions, true, (function(_this
) {
  return function() {
    if (_this.hookHandlerError) {
      return callback(_this.hookHandlerError);
    }
    return async.timesSeries(transactions.length, function(transactionIndex, iterationCallback) {
      transaction = transactions[transactionIndex];
      logger.verbose(&#x22;Processing transaction #&#x22; + (transactionIndex + 1) + &#x22;:&#x22;, transaction.name);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.runLegacyHook" id="apidoc.element.dredd.transaction_runner.prototype.runLegacyHook">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runLegacyHook
        <span class="apidocSignatureSpan">(hook, data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runLegacyHook = function (hook, data, callback) {
  if (typeof hook === &#x27;function&#x27;) {
    if (hook.length === 1) {
      logger.warn(&#x27;DEPRECATION WARNING!\n\nYou are using only one argument for the `beforeAll` or `afterAll` hook function.\nOne
 argument hook functions will be treated as synchronous in the near future.\nTo keep the async behaviour, just define hook function with two parameters.\n\nInterface of the hooks functions will be unified soon across all hook functions:\n\n - `beforeAll` and `afterAll` hooks will support sync API depending on number of arguments\n - Signatures of callbacks of all hooks will be the same\n - First passed argument will be a `transactions` object\n - Second passed argument will be a optional callback function for async\n - `transactions` object in `hooks` module object will be removed\n - Manipulation with transaction data will have to be performed on the first function argument&#x27;);
      hook(callback);
    } else if (hook.length === 2) {
      hook(data, function() {
        return callback();
      });
    }
  }
  if (typeof hook === &#x27;string&#x27;) {
    return this.runSandboxedHookFromString(hook, data, callback);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
logger.debug(&#x27;Running hooks...&#x27;);
runHookWithData = (function(_this) {
  return function(hookFnIndex, runHookCallback) {
    var error, hookFn, i, len, transaction, transactions;
    hookFn = hooks[hookFnIndex];
    try {
      if (legacy) {
        return _this.<span class="apidocCodeKeywordSpan">runLegacyHook</span>(hookFn, data, function(err) {
          if (err) {
            logger.debug(&#x27;Legacy hook errored:&#x27;, err);
            _this.emitHookError(err, data);
          }
          return runHookCallback();
        });
      } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.runSandboxedHookFromString" id="apidoc.element.dredd.transaction_runner.prototype.runSandboxedHookFromString">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>runSandboxedHookFromString
        <span class="apidocSignatureSpan">(hookString, data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runSandboxedHookFromString = function (hookString, data, callback) {
  var sandbox, wrappedCode;
  wrappedCode = this.sandboxedWrappedCode(hookString);
  sandbox = new Pitboss(wrappedCode, {
    timeout: 500
  });
  return sandbox.run({
    context: {
      &#x27;_data&#x27;: data,
      &#x27;_logs&#x27;: [],
      &#x27;stash&#x27;: this.hookStash
    },
    libraries: {
      &#x27;_log&#x27;: sandboxedLogLibraryPath
    }
  }, (function(_this) {
    return function(err, result) {
      if (result == null) {
        result = {};
      }
      sandbox.kill();
      return _this.sandboxedHookResultsHandler(err, data, result, callback);
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else if (hook.length === 2) {
      hook(data, function() {
        return callback();
      });
    }
  }
  if (typeof hook === &#x27;string&#x27;) {
    return this.<span class="apidocCodeKeywordSpan">runSandboxedHookFromString</span>(hook, data, callback);
  }
};

TransactionRunner.prototype.runHook = function(hook, data, callback) {
  if (typeof hook === &#x27;function&#x27;) {
    if (hook.length === 1) {
      hook(data);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.sandboxedHookResultsHandler" id="apidoc.element.dredd.transaction_runner.prototype.sandboxedHookResultsHandler">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>sandboxedHookResultsHandler
        <span class="apidocSignatureSpan">(err, data, results, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sandboxedHookResultsHandler = function (err, data, results, callback) {
  var i, key, len, log, ref, ref1, value;
  if (results == null) {
    results = {};
  }
  if (err) {
    return callback(err);
  }
  ref = results.data || {};
  for (key in ref) {
    value = ref[key];
    data[key] = value;
  }
  this.hookStash = results.stash;
  if (this.logs == null) {
    this.logs = [];
  }
  ref1 = results.logs || [];
  for (i = 0, len = ref1.length; i &#x3c; len; i++) {
    log = ref1[i];
    this.logs.push(log);
  }
  while (Date.now() - results.now &#x3c; 0) {}
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }, (function(_this) {
    return function(err, result) {
      if (result == null) {
        result = {};
      }
      sandbox.kill();
      return _this.<span class="apidocCodeKeywordSpan">sandboxedHookResultsHandler</span>(err, data, result, callback);
    };
  })(this));
};

TransactionRunner.prototype.runLegacyHook = function(hook, data, callback) {
  if (typeof hook === &#x27;function&#x27;) {
    if (hook.length === 1) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.sandboxedWrappedCode" id="apidoc.element.dredd.transaction_runner.prototype.sandboxedWrappedCode">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>sandboxedWrappedCode
        <span class="apidocSignatureSpan">(hookCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sandboxedWrappedCode = function (hookCode) {
  return &#x22;// run the hook\nvar log = _log.bind(null, _logs);\n\nvar _func = &#x22; + hookCode + &#x22;;\n_func(_data);\n\n// setup the return
 object\nvar output = {};\noutput[\&#x22;data\&#x22;] = _data;\noutput[\&#x22;stash\&#x22;] = stash;\noutput[\&#x22;logs\&#x22;] = _logs;\noutput[\&#x22;now\&#x22;] = Date.now();\noutput;&#x22;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

TransactionRunner.prototype.sandboxedWrappedCode = function(hookCode) {
  return &#x22;// run the hook\nvar log = _log.bind(null, _logs);\n\nvar _func = &#x22; + hookCode + &#x22;;\n_func(_data);\n\n//
setup the return object\nvar output = {};\noutput[\&#x22;data\&#x22;] = _data;\noutput[\&#x22;stash\&#x22;] = stash;\noutput[\&#x22;logs\&#x22;] = _logs;\noutput[\&#x22;now\&#x22;] = Date.now();\noutput;&#x22;;
};

TransactionRunner.prototype.runSandboxedHookFromString = function(hookString, data, callback) {
  var sandbox, wrappedCode;
  wrappedCode = this.<span class="apidocCodeKeywordSpan">sandboxedWrappedCode</span>(hookString);
  sandbox = new Pitboss(wrappedCode, {
    timeout: 500
  });
  return sandbox.run({
    context: {
      &#x27;_data&#x27;: data,
      &#x27;_logs&#x27;: [],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.setContentLength" id="apidoc.element.dredd.transaction_runner.prototype.setContentLength">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>setContentLength
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setContentLength = function (transaction) {
  var body, calculatedContentLengthValue, contentLengthHeaderName, contentLengthValue, headers;
  headers = transaction.request.headers;
  body = transaction.request.body;
  contentLengthHeaderName = caseless(headers).has(&#x27;Content-Length&#x27;);
  if (contentLengthHeaderName) {
    contentLengthValue = parseInt(headers[contentLengthHeaderName], 10);
    if (body) {
      calculatedContentLengthValue = Buffer.byteLength(body);
      if (contentLengthValue !== calculatedContentLengthValue) {
        logger.warn(&#x22;Specified Content-Length header is &#x22; + contentLengthValue + &#x22;, but the real body length is &#x22; + calculatedContentLengthValue
 + &#x22;. Using &#x22; + calculatedContentLengthValue + &#x22; instead.&#x22;);
        return headers[contentLengthHeaderName] = calculatedContentLengthValue;
      }
    } else if (contentLengthValue !== 0) {
      logger.warn(&#x22;Specified Content-Length header is &#x22; + contentLengthValue + &#x22;, but the real body length is 0. Using 0 instead
.&#x22;);
      return headers[contentLengthHeaderName] = 0;
    }
  } else {
    return headers[&#x27;Content-Length&#x27;] = body ? Buffer.byteLength(body) : 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    return headers[&#x27;Content-Length&#x27;] = body ? Buffer.byteLength(body) : 0;
  }
};

TransactionRunner.prototype.performRequestAndValidate = function(test, transaction, hooks, callback) {
  var error, handleRequest, requestOptions;
  this.<span class="apidocCodeKeywordSpan">setContentLength</span>(transaction);
  requestOptions = this.getRequestOptionsFromTransaction(transaction);
  handleRequest = (function(_this) {
    return function(err, res, body) {
      var real;
      if (err) {
        logger.debug(&#x27;Requesting tested server errored:&#x27;, (&#x22;&#x22; + err) || err.code);
        test.title = transaction.id;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.skipTransaction" id="apidoc.element.dredd.transaction_runner.prototype.skipTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>skipTransaction
        <span class="apidocSignatureSpan">(transaction, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skipTransaction = function (transaction, reason) {
  var base;
  transaction.skip = true;
  this.ensureTransactionResultsGeneralSection(transaction);
  if (reason) {
    transaction.results.general.results.push({
      severity: &#x27;warning&#x27;,
      message: reason
    });
  }
  if (transaction.test == null) {
    transaction.test = this.createTest(transaction);
  }
  transaction.test.status = &#x27;skip&#x27;;
  if (reason) {
    transaction.test.message = reason;
  }
  return (base = transaction.test).results != null ? base.results : base.results = transaction.results;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
test = this.createTest(transaction);
logger.debug(&#x27;Emitting to reporters: test start&#x27;);
this.configuration.emitter.emit(&#x27;test start&#x27;, test, function() {});
this.ensureTransactionResultsGeneralSection(transaction);
if (transaction.skip) {
  logger.verbose(&#x27;HTTP transaction was marked in hooks as to be skipped. Skipping&#x27;);
  transaction.test = test;
  this.<span class="apidocCodeKeywordSpan">skipTransaction</span>(transaction, &#x27;Skipped in before hook&#x27;);
  return callback();
} else if (transaction.fail) {
  logger.verbose(&#x27;HTTP transaction was marked in hooks as to be failed. Reporting as failed&#x27;);
  transaction.test = test;
  this.failTransaction(transaction, &#x22;Failed in before hook: &#x22; + transaction.fail);
  return callback();
} else if (this.configuration.options[&#x27;dry-run&#x27;]) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dredd.transaction_runner.prototype.validateTransaction" id="apidoc.element.dredd.transaction_runner.prototype.validateTransaction">
        function <span class="apidocSignatureSpan">dredd.transaction_runner.prototype.</span>validateTransaction
        <span class="apidocSignatureSpan">(test, transaction, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateTransaction = function (test, transaction, callback) {
  var configuration;
  configuration = this.configuration;
  logger.verbose(&#x27;Validating HTTP transaction by Gavel.js&#x27;);
  logger.debug(&#x27;Determining whether HTTP transaction is valid (getting boolean verdict)&#x27;);
  return gavel.isValid(transaction.real, transaction.expected, &#x27;response&#x27;, function(isValidError, isValid) {
    if (isValidError) {
      logger.debug(&#x27;Gavel.js validation errored:&#x27;, isValidError);
      this.emitError(isValidError, test);
    }
    test.title = transaction.id;
    test.actual = transaction.real;
    test.expected = transaction.expected;
    test.request = transaction.request;
    if (isValid) {
      test.status = &#x27;pass&#x27;;
    } else {
      test.status = &#x27;fail&#x27;;
    }
    logger.debug(&#x27;Validating HTTP transaction (getting verbose validation result)&#x27;);
    return gavel.validate(transaction.real, transaction.expected, &#x27;response&#x27;, function(validateError, gavelResult) {
      var gavelError, i, len, message, rawValidatorOutput, ref, ref1, results, sectionName, validatorOutput;
      if (!isValidError &#x26;&#x26; validateError) {
        logger.debug(&#x27;Gavel.js validation errored:&#x27;, validateError);
        this.emitError(validateError, test);
      }
      message = &#x27;&#x27;;
      ref = gavelResult || {};
      for (sectionName in ref) {
        if (!hasProp.call(ref, sectionName)) continue;
        validatorOutput = ref[sectionName];
        if (sectionName !== &#x27;version&#x27;) {
          ref1 = validatorOutput.results || [];
          for (i = 0, len = ref1.length; i &#x3c; len; i++) {
            gavelError = ref1[i];
            message += sectionName + &#x22;: &#x22; + gavelError.message + &#x22;\n&#x22;;
          }
        }
      }
      test.message = message;
      results = transaction.results || {};
      for (sectionName in gavelResult) {
        if (!hasProp.call(gavelResult, sectionName)) continue;
        rawValidatorOutput = gavelResult[sectionName];
        if (!(sectionName !== &#x27;version&#x27;)) {
          continue;
        }
        if (results[sectionName] == null) {
          results[sectionName] = {};
        }
        validatorOutput = clone(rawValidatorOutput);
        if (results[sectionName].results) {
          validatorOutput.results = validatorOutput.results.concat(results[sectionName].results);
        }
        results[sectionName] = validatorOutput;
      }
      transaction.results = results;
      test.results = transaction.results;
      test.valid = isValid;
      transaction.test = test;
      return callback();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return callback(_this.hookHandlerError);
      }
      logger.verbose(&#x27;Running \&#x27;beforeValidation\&#x27; hooks&#x27;);
      return _this.runHooksForData(hooks != null ? hooks.beforeValidationHooks[transaction.name] : void 0, transaction, false, function
() {
        if (_this.hookHandlerError) {
          return callback(_this.hookHandlerError);
        }
        return _this.<span class="apidocCodeKeywordSpan">validateTransaction</span>(test, transaction, callback);
      });
    });
  };
})(this);
if (transaction.request[&#x27;body&#x27;] &#x26;&#x26; this.isMultipart(requestOptions)) {
  this.replaceLineFeedInBody(transaction, requestOptions);
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dredd.which" id="apidoc.module.dredd.which">module dredd.which</a></h1>


    <h2>
        <a href="#apidoc.element.dredd.which.which" id="apidoc.element.dredd.which.which">
        function <span class="apidocSignatureSpan">dredd.</span>which
        <span class="apidocSignatureSpan">(command)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">which = function (command) {
  var e;
  try {
    which.sync(command);
    return true;
  } catch (error) {
    e = error;
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

HooksWorkerClient.prototype.setCommandAndCheckForExecutables = function(callback) {
  var gobin, msg, parsedArgs;
  if (this.language === &#x27;ruby&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-ruby&#x27;;
    this.handlerCommandArgs = [];
    if (!which.<span class="apidocCodeKeywordSpan">which</span>(this.handlerCommand)) {
      msg = &#x22;Ruby hooks handler command not found: &#x22; + this.handlerCommand + &#x22;\nInstall ruby hooks handler by running
:\n$ gem install dredd_hooks&#x22;;
      return callback(new Error(msg));
    } else {
      return callback();
    }
  } else if (this.language === &#x27;python&#x27;) {
    this.handlerCommand = &#x27;dredd-hooks-python&#x27;;
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
